# AUTOGENERATED! DO NOT EDIT! File to edit: ../nbs/01_flowbite.ipynb.

# %% auto 0
__all__ = ['flowbite_hdrs', 'flowbite_ftrs', 'Round', 'TextT', 'TextPresets', 'TextHeading', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6',
           'Subtitle', 'Q', 'Em', 'Strong', 'I', 'Small', 'Mark', 'Del', 'Ins', 'Sub', 'Sup', 'BlockquoteT',
           'Blockquote', 'Caption', 'Cite', 'Time', 'Address', 'Abbr', 'Dfn', 'KbdT', 'Kbd', 'Samp', 'Var', 'Figure',
           'Details', 'Summary', 'Data', 'S', 'U', 'Output', 'CodeSpan', 'Code', 'CodeBlock', 'ParagrafT', 'P', 'ListT',
           'Meter', 'BgColor', 'ButtonSize', 'ButtonOutline', 'ButtonT', 'AT', 'Button', 'FlexT', 'BackgroundT',
           'ContainerSize', 'Container', 'Titled', 'Grid', 'DivFullySpaced', 'DivCentered', 'DivLAligned',
           'DivRAligned', 'DivVStacked', 'DivHStacked', 'DividerT', 'Divider', 'DividerSplit', 'DividerLine', 'Article',
           'ArticleTitle', 'ArticleMeta', 'Icon', 'IconLink', 'DiceBearAvatar', 'PicSumImg', 'SectionT', 'Section',
           'TabItem', 'TabContainer', 'FormT', 'Form', 'LabelInputT', 'FormLabel', 'InputT', 'Input', 'TextArea',
           'Options', 'Select', 'RadioT', 'Radio', 'CheckboxT', 'Checkbox', 'SwitchT', 'Switch', 'Upload', 'UploadZone',
           'RangeT', 'Range', 'BadgeT', 'Badge', 'IconBadge', 'ModalT', 'ModalContainer', 'ModalDialog', 'ModalHeader',
           'ModalBody', 'ModalFooter', 'ModalTitle', 'ModalCloseButton', 'Modal', 'CardT', 'CardTitle', 'CardHeader',
           'CardBody', 'CardFooter', 'CardContainer', 'Card', 'ProgressT', 'Progress', 'PlaceholderT', 'Placeholder',
           'DropdownItem', 'DropdownList', 'DropdownContainer', 'DropdownHeader', 'Dropdown', 'DropdownButton', 'NavT',
           'NavContainer', 'NavLi', 'NavChildLi', 'NavParentLi', 'NavDividerLi', 'NavHeaderLi', 'NavSubtitle',
           'NavCloseLi', 'NavbarT', 'NavBarItem', 'NavBar', 'SubNavBarItem', 'SubNavBar', 'SliderContainer',
           'SliderItemT', 'SliderItem', 'SliderItems', 'SliderControls', 'SliderNav', 'Slider', 'TableT', 'Thead',
           'Table', 'Td', 'Th', 'Tf', 'Tbody', 'Tr', 'TrHeader', 'Tfoot', 'DataTable', 'SimpleTable']

# %% ../nbs/01_flowbite.ipynb 1
import fasthtml.common as fh
from .core import *
from fasthtml.common import Div, Span, FT, HighlightJS
from typing import Union, Tuple, Optional, Sequence
from fastcore.all import *
from enum import Enum, auto
# from mistletoe.html_renderer import HTMLRenderer
# from mistletoe.span_token import Image
# import mistletoe
# from lxml import html, etree

# %% ../nbs/01_flowbite.ipynb 2
flowbite_hdrs = (
    Script(src="https://unpkg.com/@tailwindcss/browser@4"),
    Link(
        rel="stylesheet",
        href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css",
    ),    
    Script(
        "if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\r\n        document.documentElement.classList.add('dark');\r\n    } else {\r\n        document.documentElement.classList.remove('dark')\r\n    }"
    ),
)

flowbite_ftrs = [
    Script(src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"),
    Script("""
    document.addEventListener('DOMContentLoaded', function() {
        // Get references to elements
        const drawerButton = document.querySelector('[data-drawer-target="logo-sidebar"]');
        const sidebar = document.getElementById('logo-sidebar');
        const mainContent = document.querySelector('.p-4:not(.mt-14)');
        
        // Function to toggle main content margin
        function toggleMainMargin() {
            // Check if sidebar is visible (doesn't have -translate-x-full class)
            if (!sidebar.classList.contains('-translate-x-full')) {
                // Sidebar is visible, add margin to main content
                mainContent.classList.add('ml-64');
            } else {
                // Sidebar is hidden, remove margin from main content
                mainContent.classList.remove('ml-64');
            }
        }
        
        // Initial check
        toggleMainMargin();
        
        // Listen for sidebar visibility changes
        if (drawerButton) {
            drawerButton.addEventListener('click', function() {
                // Wait for the drawer animation to complete
                setTimeout(toggleMainMargin, 300);
            });
        }
        
        // Create a MutationObserver to watch for class changes on the sidebar
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.attributeName === 'class') {
                    toggleMainMargin();
                }
            });
        });
        
        // Start observing the sidebar for class changes
        if (sidebar) {
            observer.observe(sidebar, { attributes: true });
        }
    });
    """),
    Script("""
    var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
        var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

        // Change the icons inside the button based on previous settings
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            themeToggleLightIcon.classList.remove('hidden');
        } else {
            themeToggleDarkIcon.classList.remove('hidden');
        }

        var themeToggleBtn = document.getElementById('theme-toggle');

        themeToggleBtn.addEventListener('click', function() {

            // toggle icons inside button
            themeToggleDarkIcon.classList.toggle('hidden');
            themeToggleLightIcon.classList.toggle('hidden');

            // if set via local storage previously
            if (localStorage.getItem('color-theme')) {
                if (localStorage.getItem('color-theme') === 'light') {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                }

            // if NOT set via local storage previously
            } else {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                }
            }

        });
    """)
]

# %% ../nbs/01_flowbite.ipynb 3
class Round(VEnum):
    """Button shape variants"""
    default = "rounded-lg"
    full = "rounded-full"
    none = "rounded-none"
    sm = "rounded-sm"
    md = "rounded-md"
    lg = "rounded-lg"
    xl = "rounded-xl"
    _2xl = "rounded-2xl"
    _3xl = "rounded-3xl"
    _4xl = "rounded-4xl"

class TextT(VEnum):
    """
    Text Styles from Flowbite UI
    """
    
    # Text Size
    xs, sm, base, lg, xl = 'text-xs', 'text-sm', 'text-base', 'text-lg', 'text-xl'
    text_2xl, text_3xl, text_4xl = 'text-2xl', 'text-3xl', 'text-4xl'
    text_5xl, text_6xl, text_7xl = 'text-5xl', 'text-6xl', 'text-7xl'
    text_8xl, text_9xl = 'text-8xl', 'text-9xl'
    
    # Text Weight
    thin, extralight, light = 'font-thin', 'font-extralight', 'font-light'
    normal, medium, semibold = 'font-normal', 'font-medium', 'font-semibold'
    bold, extrabold, black = 'font-bold', 'font-extrabold', 'font-black'
    
    # Text Style
    italic = 'italic'
    
    # Text Format
    article='format format-sm sm:format-base lg:format-lg format-primary dark:format-invert'
    # Text Color
    gray = 'text-gray-500 dark:text-gray-400'
    muted = 'text-gray-500 dark:text-gray-400'
    primary = 'text-primary-600 dark:text-primary-500'
    # TODO: Add secondary color
    secondary = 'text-purple-600 dark:text-purple-500'
    success = 'text-green-500 dark:text-green-400'
    warning = 'text-yellow-500 dark:text-yellow-400'
    error = 'text-red-600 dark:text-red-500'
    info = 'text-blue-500 dark:text-blue-400'
    
    # Text Alignment
    left, right, center = 'text-left', 'text-right', 'text-center'
    justify, start, end = 'text-justify', 'text-start', 'text-end'
    
    # Vertical Alignment
    top, middle, bottom = 'align-top', 'align-middle', 'align-bottom'
    
    # Text Decoration
    underline, line_through = 'underline', 'line-through'
    uppercase, lowercase = 'uppercase', 'lowercase'
    capitalize, normal_case = 'capitalize', 'normal-case'
    
    # Line Height
    leading_none = 'leading-none'
    leading_tight = 'leading-tight'
    leading_snug = 'leading-snug'
    leading_normal = 'leading-normal'
    leading_relaxed = 'leading-relaxed'
    leading_loose = 'leading-loose'
    
    # Letter Spacing
    tracking_tighter = 'tracking-tighter'
    tracking_tight = 'tracking-tight'
    tracking_normal = 'tracking-normal'
    tracking_wide = 'tracking-wide'
    tracking_wider = 'tracking-wider'
    tracking_widest = 'tracking-widest'
    
    # Text Wrapping
    truncate = 'truncate'
    whitespace_normal = 'whitespace-normal'
    whitespace_nowrap = 'whitespace-nowrap'
    whitespace_pre = 'whitespace-pre'
    whitespace_pre_line = 'whitespace-pre-line'
    whitespace_pre_wrap = 'whitespace-pre-wrap'
    
    # Other
    highlight = 'bg-yellow-200 dark:bg-yellow-800 text-black'

class TextPresets(VEnum):
    """
    Common Typography Presets for Flowbite UI
    """
    muted_sm = TextT.muted+TextT.sm
    muted_lg = TextT.muted+TextT.lg
    
    bold_sm = TextT.bold+TextT.sm
    bold_lg = TextT.bold+TextT.lg
    
    primary_bold = stringify((TextT.primary, TextT.bold))
    success_bold = stringify((TextT.success, TextT.bold))
    warning_bold = stringify((TextT.warning, TextT.bold))
    error_bold = stringify((TextT.error, TextT.bold))
    
    md_weight_sm = stringify((TextT.sm, TextT.medium))
    md_weight_muted = stringify((TextT.medium, TextT.muted))

class TextHeading(VEnum):
    """Text heading variants for Flowbite components"""
    h1 = "text-5xl font-extrabold dark:text-white mb-4"
    h2 = "text-4xl font-bold dark:text-white mb-3"
    h3 = "text-3xl font-bold dark:text-white mb-2"
    h4 = "text-2xl font-bold dark:text-white mb-1"
    h5 = "text-xl font-bold dark:text-white mb-0.5"
    h6 = "text-lg font-bold dark:text-white"

def H1(*c:FT|str, # Contents of H1 tag (often text)
       cls:Enum|str|tuple=(), # Classes in addition to H1 styling
       **kwargs # Additional args for H1 tag
       )->FT: # H1(..., cls='uk-h1')
    "H1 with styling and appropriate size"
    return fh.H1(*c, cls=(TextHeading.h1, stringify(cls)), **kwargs)

def H2(*c:FT|str, # Contents of H2 tag (often text)
       cls:Enum|str|tuple=(), # Classes in addition to H2 styling
       **kwargs # Additional args for H2 tag
       )->FT: # H2(..., cls='uk-h2')
    "H2 with styling and appropriate size"
    return fh.H2(*c, cls=(TextHeading.h2, stringify(cls)), **kwargs)

def H3(*c:FT|str, # Contents of H3 tag (often text)
       cls:Enum|str|tuple=(), # Classes in addition to H3 styling
       **kwargs # Additional args for H3 tag
       )->FT: # H3(..., cls='uk-h3')
    "H3 with styling and appropriate size"
    return fh.H3(*c, cls=(TextHeading.h3, stringify(cls)), **kwargs)

def H4(*c:FT|str, # Contents of H4 tag (often text)
       cls:Enum|str|tuple=(), # Classes in addition to H4 styling
       **kwargs # Additional args for H4 tag
       )->FT: # H4(..., cls='uk-h4')
    "H4 with styling and appropriate size"
    return fh.H4(*c, cls=(TextHeading.h4, stringify(cls)), **kwargs)

def H5(*c:FT|str, # Contents of H5 tag (often text)
       cls:Enum|str|tuple=(), # Classes in addition to H5 styling
       **kwargs # Additional args for H5 tag
       )->FT: # H5(..., cls='uk-h5')
    "H5 with styling and appropriate size"
    return fh.H5(*c, cls=(TextHeading.h5, stringify(cls)), **kwargs)

def H6(*c:FT|str, # Contents of H6 tag (often text)
       cls:Enum|str|tuple=(), # Classes in addition to H6 styling
       **kwargs # Additional args for H6 tag
       )->FT: # H6(..., cls='uk-h6')
    "H6 with styling and appropriate size"
    return fh.H6(*c, cls=(TextHeading.h6, stringify(cls)), **kwargs)


def Subtitle(*c:FT|str, # Contents of P tag (often text)
         cls:Enum|str|tuple='mt-1.5', # Additional classes
         **kwargs # Additional args for P tag
         )->FT:
    "Styled muted_sm text designed to go under Headings and Titles"
    return fh.P(*c, cls=(TextPresets.muted_sm, stringify(cls)), **kwargs)


def Q(*c:FT|str, # Contents of Q tag (quote)
      cls:Enum|str|tuple=(), # Additional classes
      **kwargs # Additional args for Q tag
      )->FT:
    "Styled quotation mark"
    return fh.Q(*c, cls=(TextT.italic,TextT.lg, stringify(cls)), **kwargs)

def Em(*c:FT|str, # Contents of Em tag (emphasis)
       cls:Enum|str|tuple=(), # Additional classes 
       **kwargs # Additional args for Em tag
       )->FT:
    "Styled emphasis text"
    return fh.Em(*c, cls=(TextT.medium, stringify(cls)), **kwargs)

def Strong(*c:FT|str, # Contents of Strong tag
          cls:Enum|str|tuple=(), # Additional classes
          **kwargs # Additional args for Strong tag
          )->FT:
    "Styled strong text" 
    return fh.Strong(*c, cls=(TextT.bold, stringify(cls)), **kwargs)

def I(*c:FT|str, # Contents of I tag (italics)
      cls:Enum|str|tuple=(), # Additional classes
      **kwargs # Additional args for I tag
      )->FT:
    "Styled italic text"
    return fh.I(*c, cls=(TextT.italic, stringify(cls)), **kwargs)

def Small(*c:FT|str, # Contents of Small tag
         cls:Enum|str|tuple=(), # Additional classes
         **kwargs # Additional args for Small tag
         )->FT:
    "Styled small text"
    return fh.Small(*c, cls=(TextT.sm, stringify(cls)), **kwargs)

def Mark(*c:FT|str, # Contents of Mark tag (highlighted text)
        cls:Enum|str|tuple=(), # Additional classes
        **kwargs # Additional args for Mark tag
        )->FT:
    "Styled highlighted text"
    return fh.Mark(*c, cls=(TextT.highlight, stringify(cls)), **kwargs)


def Del(*c:FT|str, # Contents of Del tag (deleted text)
       cls:Enum|str|tuple=(), # Additional classes
       **kwargs # Additional args for Del tag
       )->FT:
    "Styled deleted text"
    return fh.Del(*c, cls=('line-through', TextT.gray, stringify(cls)), **kwargs)

def Ins(*c:FT|str, # Contents of Ins tag (inserted text)
        cls:Enum|str|tuple=(), # Additional classes
        **kwargs # Additional args for Ins tag
        )->FT:
    "Styled inserted text"
    return fh.Ins(*c, cls=(TextT.underline+' text-green-600', stringify(cls)), **kwargs)

def Sub(*c:FT|str, # Contents of Sub tag (subscript)
       cls:Enum|str|tuple=(), # Additional classes
       **kwargs # Additional args for Sub tag
       )->FT:
    "Styled subscript text"
    return fh.Sub(*c, cls=(TextT.sm+' -bottom-1 relative', stringify(cls)), **kwargs)

def Sup(*c:FT|str, # Contents of Sup tag (superscript) 
        cls:Enum|str|tuple=(), # Additional classes
        **kwargs # Additional args for Sup tag
        )->FT:
    "Styled superscript text"
    return fh.Sup(*c, cls=(TextT.sm+' -top-1 relative', stringify(cls)), **kwargs)

class BlockquoteT(VEnum):
    """Blockquote variants"""
    default = "italic font-semibold text-gray-900 dark:text-white p-4 my-4"
    solid = "italic font-semibold text-gray-900 dark:text-white p-4 my-4 border-s-4 border-gray-300 bg-gray-50 dark:border-gray-500 dark:bg-gray-800"
    secondary = "border-l-4 border-gray-300 dark:border-gray-500"
    success = "border-l-4 border-green-500"
    

def Blockquote(*c:FT|str, # Contents of Blockquote tag (often text)
               with_icon:bool=False,
               cls:Enum|str|tuple=BlockquoteT.default, # Classes in addition to Blockquote styling
               **kwargs # Additional args for Blockquote tag
               )->FT: # Blockquote(..., cls='uk-blockquote')
    "Blockquote with Styling"
    elements =[]
    if with_icon:
        elements.append(Icon("quote",cls="h-8 w-8 text-gray-400 dark:text-gray-600 mb-1"))
    elements.extend(c)
    return fh.Blockquote(*elements, cls=(stringify(cls)), **kwargs)


def Caption(*c:FT|str, cls:Enum|str|tuple=(), **kwargs)->FT:
    "Styled caption text"
    return fh.Caption(
        Span(*c, cls=(TextT.gray, TextT.sm, stringify(cls))),
        **kwargs)


def Cite(*c:FT|str, # Contents of Cite tag
         cls:Enum|str|tuple=(), # Additional classes
         **kwargs # Additional args for Cite tag
         )->FT:
    "Styled citation text"
    return fh.Cite(*c, cls=(TextT.italic, TextT.gray, stringify(cls)), **kwargs)

def Time(*c:FT|str, # Contents of Time tag
         cls:Enum|str|tuple=(), # Additional classes
         datetime:str=None, # datetime attribute
         **kwargs # Additional args for Time tag
         )->FT:
    "Styled time element"
    if datetime: kwargs['datetime'] = datetime
    return fh.Time(*c, cls=(TextT.gray, stringify(cls)), **kwargs)

def Address(*c:FT|str, # Contents of Address tag
           cls:Enum|str|tuple=(), # Additional classes
           **kwargs # Additional args for Address tag
           )->FT:
    "Styled address element"
    return fh.Address(*c, cls=(TextT.italic, stringify(cls)), **kwargs)


def Abbr(*c:FT|str, # Contents of Abbr tag
         cls:Enum|str|tuple=(), # Additional classes
         title:str=None, # Title attribute for abbreviation
         **kwargs # Additional args for Abbr tag
         )->FT:
    "Styled abbreviation with dotted underline"
    if title: kwargs['title'] = title
    return fh.Abbr(*c, cls=('border-b border-dotted border-gray-300 dark:border-gray-500 hover:cursor-help', stringify(cls)), **kwargs)

def Dfn(*c:FT|str, # Contents of Dfn tag (definition)
        cls:Enum|str|tuple=(), # Additional classes
        **kwargs # Additional args for Dfn tag
        )->FT:
    "Styled definition term with italic and medium weight"
    return fh.Dfn(*c, cls=(TextT.medium + TextT.italic + TextT.gray, stringify(cls)), **kwargs)

class KbdT(VEnum):
    """Keyboard input variants"""
    default = "font-mono px-1.5 py-0.5 text-sm bg-gray-200 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded shadow-sm"
    advanced = "px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"

def Kbd(*c:FT|str, # Contents of Kbd tag (keyboard input)
        cls:Enum|str|tuple=KbdT.default, # Additional classes
        **kwargs # Additional args for Kbd tag
        )->FT:
    "Styled keyboard input with subtle background"
    return fh.Kbd(*c, cls=stringify(cls), **kwargs)


def Samp(*c:FT|str, # Contents of Samp tag (sample output)
         cls:Enum|str|tuple=(), # Additional classes
         **kwargs # Additional args for Samp tag
         )->FT:
    "Styled sample output with subtle background"
    return fh.Samp(*c, cls=('font-mono bg-gray-200 dark:bg-gray-800 px-1 rounded', TextT.gray, stringify(cls)), **kwargs)

def Var(*c:FT|str, # Contents of Var tag (variable)
        cls:Enum|str|tuple=(), # Additional classes
        **kwargs # Additional args for Var tag
        )->FT:
    "Styled variable with italic monospace"
    return fh.Var(*c, cls=('font-mono',TextT.italic + TextT.gray, stringify(cls)), **kwargs)


def Figure(*c:FT|str, # Contents of Figure tag
          cls:Enum|str|tuple=(), # Additional classes 
          **kwargs # Additional args for Figure tag
          )->FT:
    "Styled figure container with card-like appearance"
    return fh.Figure(*c, cls=('p-4 my-4 border border-gray-200 dark:border-gray-800 rounded-lg shadow-sm bg-gray-200 dark:bg-gray-800', stringify(cls)), **kwargs)


def Details(*c:FT|str, # Contents of Details tag
           cls:Enum|str|tuple=(), # Additional classes
           **kwargs # Additional args for Details tag
           )->FT:
    "Styled details element"
    # TODO: Add secondary color variant
    return fh.Details(*c, cls=('border border-gray-200 dark:border-gray-800 rounded-lg', stringify(cls)), **kwargs)

def Summary(*c:FT|str, # Contents of Summary tag
           cls:Enum|str|tuple=(), # Additional classes
           **kwargs # Additional args for Summary tag
           )->FT:
    "Styled summary element"
    return fh.Summary(*c, cls=(TextT.medium + ' p-3 hover:bg-gray-200 dark:hover:bg-gray-800 cursor-pointer', stringify(cls)), **kwargs)

def Data(*c:FT|str, # Contents of Data tag
         value:str=None, # Value attribute
         cls:Enum|str|tuple=(), # Additional classes
         **kwargs # Additional args for Data tag
         )->FT:
    "Styled data element"
    if value: kwargs['value'] = value
    return fh.Data(*c, cls=('font-mono text-sm bg-gray-200 dark:bg-gray-800 px-1 rounded', stringify(cls)), **kwargs)


def S(*c:FT|str, # Contents of S tag (strikethrough)
      cls:Enum|str|tuple=(), # Additional classes
      **kwargs # Additional args for S tag
      )->FT:
    "Styled strikethrough text (different semantic meaning from Del)"
    return fh.S(*c, cls=('line-through', TextT.gray, stringify(cls)), **kwargs)

def U(*c:FT|str, # Contents of U tag (unarticulated annotation)
      cls:Enum|str|tuple=(), # Additional classes
      **kwargs # Additional args for U tag
      )->FT:
    "Styled underline (for proper names in Chinese, proper spelling etc)"
    return fh.U(*c, cls=(TextT.underline, stringify(cls)), **kwargs)

def Output(*c:FT|str, # Contents of Output tag
          form:str=None, # ID of form this output belongs to
          for_:str=None, # IDs of elements this output is for
          cls:Enum|str|tuple=(), # Additional classes
          **kwargs # Additional args for Output tag
          )->FT:
    "Styled output element for form results"
    if form: kwargs['form'] = form
    if for_: kwargs['for'] = for_  # Note: 'for' is reserved in Python
    return fh.Output(*c, cls=('font-mono bg-gray-200 dark:bg-gray-800 px-2 py-1 rounded', 
                             stringify(cls)), **kwargs)

# %% ../nbs/01_flowbite.ipynb 4
def CodeSpan(*c, # Contents of CodeSpan tag (inline text code snippets)
             cls="text-sm text-primary-800 dark:text-primary-400 bg-tw-format-code-bg", # Classes in addition to CodeSpan styling
             **kwargs # Additional args for CodeSpan tag
             )->FT: # Code(..., cls='uk-codespan')
    "A CodeSpan with Styling"
    return fh.Code(*c, cls=(stringify(cls)), **kwargs)

def Code(*c, # Contents of CodeSpan tag (inline text code snippets)
             cls="text-sm text-primary-800 dark:text-primary-400 bg-tw-format-code-bg", # Classes in addition to CodeSpan styling
             **kwargs # Additional args for CodeSpan tag
             )->FT: # Code(..., cls='uk-codespan')
    "A Code with Styling"
    return fh.Code(*c, cls=(stringify(cls)), **kwargs)

def CodeBlock(*c: str, # Contents of Code tag (often text)
              cls: Enum | str | tuple = (), # Classes for the outer container
              code_cls: Enum | str | tuple = "'overflow-scroll max-h-full'", # Classes for the code tag
              **kwargs # Additional args for Code tag
              ) -> FT: # Div(Pre(Code(..., cls='uk-codeblock), cls='multiple tailwind styles'), cls='uk-block')
    "CodeBlock with Styling"
    return Div(
        Pre(Code(*c, cls=(stringify(code_cls)), **kwargs),
            cls=(f'bg-gray-100 dark:bg-gray-800 {TextT.gray} p-0.4 rounded text-sm font-mono')),
#             cls=('bg-gray-100 dark:bg-gray-800 dark:text-gray-200 p-0.4 rounded text-sm font-mono'))
        cls=(Round.lg, stringify(cls)))

class ParagrafT(VEnum):
    default = TextT.gray+"my-3"
    lead = TextT.gray+"my-3 text-lg md:text-xl"
    capital_first = "my-3 text-gray-500 dark:text-gray-400 first-line:uppercase first-line:tracking-widest first-letter:text-7xl first-letter:font-bold first-letter:text-gray-900 dark:first-letter:text-gray-100 first-letter:me-3 first-letter:float-start"
    link = "my-3 font-medium text-primary-600 underline dark:text-primary-500 dark:hover:text-primary-600 hover:text-primary-700 hover:no-underline"
    primary = TextT.primary+"my-3"
    secondary = TextT.secondary+"my-3"
    xs = TextT.xs+"my-3"
    sm = TextT.sm+"my-3"

def P(*c, # Contents of P tag (often text)
      cls=ParagrafT.default, # Classes in addition to P styling
      **kwargs # Additional args for P tag
      )->FT: # P(..., cls='uk-p')
    "A P with Styling"
    return fh.Div(fh.P(*c, cls=(stringify(cls)), **kwargs))

# %% ../nbs/01_flowbite.ipynb 6
class ListT(VEnum):
    'List styles using Tailwind CSS'
    ul = 'max-w-md space-y-1 list-disc list-inside' 
    ol = 'mt-2 space-y-1 list-decimal list-inside'
    dl = 'divide-y divide-gray-200'
    dt = 'mb-1 text-gray-500 dark:text-gray-400'
    dd = 'mb-1'
    horizontal = 'flex flex-wrap items-center justify-center'
    unstyled = 'max-w-md space-y-1 list-none list-inside'
    nested_ol = 'ps-5 mt-2 space-y-1 list-decimal list-inside'
    nested_ul = 'ps-5 mt-2 space-y-1 list-disc list-inside'

# %% ../nbs/01_flowbite.ipynb 7
def Meter(*c:FT|str, # Contents of Meter tag
          value:float=None, # Current value
          min:float=None, # Minimum value
          max:float=None, # Maximum value
          cls:Enum|str|tuple=(), # Additional classes
          **kwargs # Additional args for Meter tag
          )->FT:
    "Styled meter element"
    if value is not None: kwargs['value'] = value
    if min is not None: kwargs['min'] = min
    if max is not None: kwargs['max'] = max
    return fh.Meter(*c, cls=('w-full h-2 rounded', stringify(cls)), **kwargs)

# %% ../nbs/01_flowbite.ipynb 8
class BgColor(VEnum):
    """Button style variants for Flowbite components"""
    # Base styles
    primary = "bg-primary-700 hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700  text-white focus:ring-primary-300 dark:focus:ring-primary-800"
    blue = "bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 text-white focus:ring-blue-300"
    green = "bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 text-white focus:ring-green-300"
    cyan = "bg-cyan-700 hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800 text-white focus:ring-cyan-300"
    teal = "bg-teal-700 hover:bg-teal-800 dark:bg-teal-600 dark:hover:bg-teal-700 dark:focus:ring-teal-800 text-white focus:ring-teal-300"
    lime = "bg-lime-700 hover:bg-lime-800 dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:ring-lime-800 text-white focus:ring-lime-300"
    red = "bg-red-700 hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900 text-white focus:ring-red-300"
    yellow = "bg-yellow-400 hover:bg-yellow-500 dark:focus:ring-yellow-900 text-white focus:ring-yellow-300"
    pink = "bg-pink-700 hover:bg-pink-800 dark:bg-pink-600 dark:hover:bg-pink-700 dark:focus:ring-pink-900 text-white focus:ring-pink-300"
    purple = "bg-purple-700 hover:bg-purple-800 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900 text-white focus:ring-purple-300"
    
    grad_primary = "text-white bg-gradient-to-r from-primary-500 via-primary-600 to-primary-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-primary-300 dark:focus:ring-primary-800"
    grad_blue = "text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800"
    grad_green = "text-white bg-gradient-to-r from-green-500 via-green-600 to-green-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800"
    grad_cyan = "text-white bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800"
    grad_teal = "text-white bg-gradient-to-r from-teal-500 via-teal-600 to-teal-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-teal-300 dark:focus:ring-teal-800"
    grad_lime = "text-white bg-gradient-to-r from-lime-500 via-lime-600 to-lime-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-lime-300 dark:focus:ring-lime-800"
    grad_red = "text-white bg-gradient-to-r from-red-500 via-red-600 to-red-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800"
    grad_yellow = "text-white bg-gradient-to-r from-yellow-500 via-yellow-600 to-yellow-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-yellow-300 dark:focus:ring-yellow-800"
    grad_pink = "text-white bg-gradient-to-r from-pink-500 via-pink-600 to-pink-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-pink-300 dark:focus:ring-pink-800"
    grad_purple = "text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-purple-300 dark:focus:ring-purple-800"
    #Duotone
    purple_blue = "text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800"
    cyan_blue = "text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800"
    green_blue = "text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800"
    purple_pink = "text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l focus:ring-4 focus:outline-none focus:ring-purple-200 dark:focus:ring-purple-800"
    pink_orange = "text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800"
    teal_lime = "text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 focus:ring-4 focus:outline-none focus:ring-lime-200 dark:focus:ring-teal-700"
    red_yellow = "text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-red-100 dark:focus:ring-red-400"

class ButtonSize(VEnum):
    """Button size variants"""
    xs = "px-3 py-2 text-xs font-medium"
    sm = "px-3 py-2 text-sm font-medium"
    base = "px-5 py-2.5 text-sm font-medium"
    lg = "px-5 py-3 text-base font-medium"
    xl = "px-6 py-3.5 text-base font-medium"
    
class ButtonOutline(VEnum):
    """Button outline variants"""
    default = "border border-blue-700 hover:bg-blue-800 dark:border-blue-500 dark:hover:bg-blue-500 text-blue-700 hover:text-white dark:text-blue-500 dark:hover:text-white focus:ring-blue-300 dark:focus:ring-blue-800"
    dark = "border border-gray-800 hover:bg-gray-900 dark:border-gray-600 dark:hover:bg-gray-600 text-gray-900 hover:text-white dark:text-gray-400 dark:hover:text-white focus:ring-gray-300 dark:focus:ring-gray-800"
    green = "border border-green-700 hover:bg-green-800 dark:border-green-500 dark:hover:bg-green-600 text-green-700 hover:text-white dark:text-green-500 dark:hover:text-white focus:ring-green-300 dark:focus:ring-green-800"
    red = "border border-red-700 hover:bg-red-800 dark:border-red-500 dark:hover:bg-red-600 text-red-700 hover:text-white dark:text-red-500 dark:hover:text-white focus:ring-red-300 dark:focus:ring-red-900"
    yellow = "border border-yellow-400 hover:bg-yellow-500 dark:border-yellow-300 dark:hover:bg-yellow-400 text-yellow-400 hover:text-white dark:text-yellow-300 dark:hover:text-white focus:ring-yellow-300 dark:focus:ring-yellow-900"
    purple = "border border-purple-700 hover:bg-purple-800 dark:border-purple-400 dark:hover:bg-purple-500 text-purple-700 hover:text-white dark:text-purple-400 dark:hover:text-white focus:ring-purple-300 dark:focus:ring-purple-900"

class ButtonT(VEnum):
    """Button type variants"""
    primary = BgColor.primary.value
    secondary = "bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 text-gray-900 focus:ring-gray-200 dark:focus:ring-gray-700"
    ghost = "hover:bg-gray-100 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-gray-300 dark:focus:ring-gray-700 cursor-pointer"
    link = "dark:text-white cursor-pointer"
    success = BgColor.green.value   
    warning = BgColor.yellow.value
    error = BgColor.red.value
    info = BgColor.blue.value

class AT(VEnum):
    default = "underline"
    primary = "text-primary-600 dark:text-primary-500 hover:underline"
    muted = "text-gray-500 dark:text-gray-400 hover:underline"
    text = "text-gray-900 dark:text-white hover:underline"
    classic = 'text-blue-600 hover:text-blue-800 underline'


# %% ../nbs/01_flowbite.ipynb 9
def Button(*c: Union[str, FT],cls: Union[str, Enum]=ButtonT.primary, shape: Union[str, Enum]=Round.default, size: Union[str, Enum]=ButtonSize.base, submit=True, **kwargs) -> FT: 
    base_class = "text-center inline-flex items-center"
    if 'type' not in kwargs: kwargs['type'] = 'submit' if submit else 'button'
    return fh.Button(*c, cls=(base_class, stringify(shape), stringify(cls), stringify(size)), **kwargs)

# %% ../nbs/01_flowbite.ipynb 10
class FlexT(VEnum):
    'Flexbox modifiers using Tailwind CSS'
    def _generate_next_value_(name, start, count, last_values): return name
    
    # Display
    block = 'flex'
    inline = 'inline-flex'
    
    # Horizontal Alignment
    left = 'justify-start' 
    center = 'justify-center'
    right = 'justify-end'
    between = 'justify-between'
    around = 'justify-around'
    
    # Vertical Alignment
    stretch = 'items-stretch'
    top = 'items-start'
    middle = 'items-center' 
    bottom = 'items-end'
    
    # Direction
    row = 'flex-row'
    row_reverse = 'flex-row-reverse'
    column = 'flex-col'
    column_reverse = 'flex-col-reverse'
    
    # Wrap
    nowrap = 'flex-nowrap'
    wrap = 'flex-wrap'
    wrap_reverse = 'flex-wrap-reverse'

class BackgroundT(VEnum):
    primary = "bg-primary-100 dark:bg-primary-800"
    secondary = "bg-gray-100 dark:bg-gray-800"
    success = "bg-green-100 dark:bg-green-800"
    warning = "bg-yellow-100 dark:bg-yellow-800"
    error = "bg-red-100 dark:bg-red-800"
    info = "bg-blue-100 dark:bg-blue-800"

    hover_primary = "bg-primary-100 dark:bg-primary-800 hover:bg-primary-200 dark:hover:bg-primary-700"
    hover_secondary = "bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"
    hover_success = "bg-green-100 dark:bg-green-800 hover:bg-green-200 dark:hover:bg-green-700"
    hover_warning = "bg-yellow-100 dark:bg-yellow-800 hover:bg-yellow-200 dark:hover:bg-yellow-700"
    hover_error = "bg-red-100 dark:bg-red-800 hover:bg-red-200 dark:hover:bg-red-700"
    hover_info = "bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700"
    
    grad_primary = "bg-gradient-to-r from-primary-500 via-primary-600 to-primary-700 hover:bg-gradient-to-br"
    grad_secondary = "bg-gradient-to-r from-gray-500 via-gray-600 to-gray-700 hover:bg-gradient-to-br"
    grad_success = "bg-gradient-to-r from-green-500 via-green-600 to-green-700 hover:bg-gradient-to-br"
    grad_warning = "bg-gradient-to-r from-yellow-500 via-yellow-600 to-yellow-700 hover:bg-gradient-to-br"
    grad_error = "bg-gradient-to-r from-red-500 via-red-600 to-red-700 hover:bg-gradient-to-br"
    grad_info = "bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br"
    grad_blue = "bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br"
    grad_green = "bg-gradient-to-r from-green-500 via-green-600 to-green-700 hover:bg-gradient-to-br"
    grad_cyan = "bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 hover:bg-gradient-to-br"
    grad_teal = "bg-gradient-to-r from-teal-500 via-teal-600 to-teal-700 hover:bg-gradient-to-br"
    grad_lime = "bg-gradient-to-r from-lime-500 via-lime-600 to-lime-700 hover:bg-gradient-to-br"
    grad_red = "bg-gradient-to-r from-red-500 via-red-600 to-red-700 hover:bg-gradient-to-br"
    grad_yellow = "bg-gradient-to-r from-yellow-500 via-yellow-600 to-yellow-700 hover:bg-gradient-to-br"
    grad_pink = "bg-gradient-to-r from-pink-500 via-pink-600 to-pink-700 hover:bg-gradient-to-br"
    grad_purple = "bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br"
    #Duotone
    purple_blue = "bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl"
    cyan_blue = "bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl"
    green_blue = "bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl"
    purple_pink = "bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l"
    pink_orange = "bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl"
    teal_lime = "bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200"
    red_yellow = "bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-gradient-to-bl"

# %% ../nbs/01_flowbite.ipynb 11
class ContainerSize(VEnum):
    """Container size variants for Flowbite components"""
    # Base container with responsive padding
    default = "container mx-auto"    
    # Fixed width containers based on Flowbite size variables
    # These add mx-auto to center and have responsive padding
    _3xs = "max-w-3xs" # --container-3xs:16rem
    _2xs = "max-w-2xs" # --container-2xs:18rem
    xs = "max-w-xs"  # --container-xs:20rem
    sm = "max-w-sm"  # --container-sm:24rem
    md = "max-w-md"  # --container-md:28rem
    lg = "max-w-lg"  # --container-lg:32rem
    xl = "max-w-xl"  # --container-xl:36rem
    _2xl = "max-w-2xl" # --container-2xl:42rem
    _3xl = "max-w-3xl" # --container-3xl:48rem
    _4xl = "max-w-4xl" # --container-4xl:56rem
    _5xl = "max-w-5xl" # --container-5xl:64rem
    _6xl = "max-w-6xl" # --container-6xl:72rem
    _7xl = "max-w-7xl" # --container-7xl:80rem
    
    # Special container types
    fluid = "w-full px-4"  # Full width with padding
    responsive = "w-full sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl 2xl:max-w-2xl px-4"  # Responsive sizing

def Container(*c: Union[str, FT], 
            size: Union[str, Enum]=ContainerSize.default, 
            cls: Union[str, Enum, tuple]=(),
            **kwargs) -> FT:
    """
    Container component based on Flowbite container sizes.
    """
    all_cls = (stringify(size), stringify(cls))
    return Div(*c, cls=all_cls, **kwargs)

# %% ../nbs/01_flowbite.ipynb 12
def Titled(title:str="FastHTML app", # Title of the page
           *c, # Contents of the page (often other tags)
           cls=ContainerSize.xl, # Classes in addition to Container styling
           **kwargs # Additional args for Container (`Div` tag)
           )->FT: # Title, Main(Container(H1(title), content))
    "Creates a standard page structure for titled page.  Main(Container(title, content))"
    return fh.Title(title), fh.Main(Container(H1(title), *c, cls=cls, **kwargs))


# %% ../nbs/01_flowbite.ipynb 13
def Grid(*div, # `Div` components to put in the grid
         cols_min:int=1, # Minimum number of columns at any screen size
         cols_max:int=4, # Maximum number of columns allowed at any screen size
         cols_sm:int=None, # Number of columns on small screens
         cols_md:int=None, # Number of columns on medium screens
         cols_lg:int=None, # Number of columns on large screens
         cols_xl:int=None, # Number of columns on extra large screens
         cols:int=None, # Number of columns on all screens
         cls='gap-4', # Additional classes on the grid (tip: `gap` provides spacing for grids)
         **kwargs # Additional args for `Div` tag
         )->FT: # Responsive grid component
    "Creates a responsive grid layout with smart defaults based on content"
    n = len(div)
    
    if cols:
        # If cols is specified, use it for all breakpoints
        cols_min = cols_sm = cols_md = cols_lg = cols_xl = cols
    else:
        # Otherwise, calculate progressive defaults for each breakpoint
        cols_max = min(n, cols_max)
        cols_sm = cols_sm or min(2, n)                # Default to 2 columns for small screens
        cols_md = cols_md or min(3, n)                # Default to 3 columns for medium screens
        cols_lg = cols_lg or min(4, n, cols_max)      # Default to 4 columns for large screens
        cols_xl = cols_xl or min(cols_max, n)         # Default to cols_max for extra large screens
    
    grid_cls = f'grid grid-cols-{cols_min} sm:grid-cols-{cols_sm} md:grid-cols-{cols_md} lg:grid-cols-{cols_lg} xl:grid-cols-{cols_xl}'
    return Div(cls=(grid_cls, stringify(cls)), **kwargs)(*div)

def DivFullySpaced(*c,                # Components
                   cls='w-full',# Classes for outer div (`w-full` makes it use all available width)
                   **kwargs           # Additional args for outer div
                  ):                  # Div with spaced components via flex classes
    "Creates a flex div with it's components having as much space between them as possible"
    cls = stringify(cls)
    return Div(cls=(FlexT.block,FlexT.between,FlexT.middle,cls), **kwargs)(*c)

def DivCentered(*c,      # Components
                cls='space-y-4',  # Classes for outer div (`space-y-4` provides spacing between components)
                vstack=True, # Whether to stack the components vertically
                **kwargs # Additional args for outer div
               )->FT: # Div with components centered in it
    "Creates a flex div with it's components centered in it"
    cls=stringify(cls)
    return Div(cls=(FlexT.block,(FlexT.column if vstack else FlexT.row),FlexT.middle,FlexT.center,cls),**kwargs)(*c)

def DivLAligned(*c, # Components
                cls='space-x-4',  # Classes for outer div
                **kwargs # Additional args for outer div
               )->FT: # Div with components aligned to the left
    "Creates a flex div with it's components aligned to the left"
    cls=stringify(cls)
    return Div(cls=(FlexT.block,FlexT.left,FlexT.middle,cls), **kwargs)(*c)

def DivRAligned(*c, # Components
                cls='space-x-4',  # Classes for outer div
                **kwargs # Additional args for outer div
               )->FT: # Div with components aligned to the right
    "Creates a flex div with it's components aligned to the right"
    cls=stringify(cls)
    return Div(cls=(FlexT.block,FlexT.right,FlexT.middle,cls), **kwargs)(*c)

def DivVStacked(*c, # Components
                cls='space-y-4', # Additional classes on the div  (tip: `space-y-4` provides spacing between components)
                **kwargs # Additional args for the div
               )->FT: # Div with components stacked vertically
    "Creates a flex div with it's components stacked vertically"
    cls=stringify(cls)
    return Div(cls=(FlexT.block,FlexT.column,FlexT.middle,cls), **kwargs)(*c)

def DivHStacked(*c, # Components
                cls='space-x-4', # Additional classes on the div (`space-x-4` provides spacing between components)
                **kwargs # Additional args for the div
               )->FT: # Div with components stacked horizontally
    "Creates a flex div with it's components stacked horizontally"
    cls=stringify(cls)
    return Div(cls=(FlexT.block,FlexT.row,FlexT.middle,cls), **kwargs)(*c)
   

# %% ../nbs/01_flowbite.ipynb 15
class DividerT(VEnum):
    default = "h-px my-8 bg-gray-200 border-0 dark:bg-gray-600"
    vertical = "h-full w-px mx-4 bg-gray-200 border-0 dark:bg-gray-600"
    trimmed = "w-48 h-1 mx-auto my-4 bg-gray-100 border-0 rounded-sm md:my-10 dark:bg-gray-600"
    trimmed_vertical = "h-48 w-1 my-auto mx-4 bg-gray-100 border-0 rounded-sm md:mx-10 dark:bg-gray-600"

def Divider(*c, # contents of Divider tag (often nothing)
            vertical=False, # Whether to create a vertical divider
            cls=(), # Classes in addition to Divider styling
            **kwargs # Additional args for Divider tag
            )->FT: #  Hr(..., cls='uk-divider-icon') or Div(..., cls='uk-divider-vertical')
    "Divider with default styling and margin"
    cls = (stringify(cls), DividerT.vertical) if vertical else (stringify(cls), DividerT.default)
    container = Div if vertical else Hr
    return container(*c, cls=cls, **kwargs)

# TODO: This is a copy of the DividerSplit function in fh_flowbite/components.py
def DividerSplit(*c, cls=(), line_cls=(), text_cls=()):
    "Creates a simple horizontal line divider with configurable thickness and vertical spacing"
    cls, line_cls, text_cls = map(stringify,(cls, line_cls, text_cls))
    return Div(
            Divider(cls='w-64 h-1 my-8 bg-gray-200 border-0 rounded-sm dark:bg-gray-700'),
            Div(
                *c,
                cls='absolute px-4 -translate-x-1/2 left-1/2 bg-inherit'
            ),
            cls='inline-flex items-center justify-center w-full'
        )


def DividerLine(lwidth=2, y_space=4): return Hr(cls=f"my-{y_space} h-[{lwidth}px] w-full bg-gray-200 dark:bg-gray-700")


# %% ../nbs/01_flowbite.ipynb 17
def Article(*c, # contents of Article tag (often other tags)
            cls=(), # Classes in addition to Article styling
            **kwargs # Additional args for Article tag
            )->FT: # Article(..., cls='uk-article')
    "A styled article container for blog posts or similar content"
    return fh.Article(*c, cls=(TextT.article,stringify(cls)), **kwargs)

def ArticleTitle(*c, # contents of ArticleTitle tag (often other tags)
                 cls=(), # Classes in addition to ArticleTitle styling
                 **kwargs # Additional args for ArticleTitle tag
                 )->FT: # H1(..., cls='uk-article-title')
    "A title component for use within an Article"
    return H1(*c, cls=(TextT.article,stringify(cls)), **kwargs)

def ArticleMeta(*c, # contents of ArticleMeta tag (often other tags)
                cls=(), # Classes in addition to ArticleMeta styling
                **kwargs # Additional args for ArticleMeta tag
                )->FT: # P(..., cls='uk-article-meta')
    "A metadata component for use within an Article showing things like date, author etc"
    return P(*c, cls=('text-base text-gray-500 dark:text-gray-400',stringify(cls)), **kwargs)


# %% ../nbs/01_flowbite.ipynb 18
def Icon(icon:str, # Icon name from [lucide icons](https://lucide.dev/icons/)
           height:int=20, 
           width:int=20, 
           stroke_width:int=None, # Thickness of lines
           cls=(), # Additional classes on the `Uk_icon` tag
           **kwargs # Additional args for `Uk_icon` tag
           )->FT: # a lucide icon of the specified size 
    "Creates an icon using lucide icons"
    return I(data_lucide=icon, height=height, width=width, stroke_width=stroke_width, cls=cls, **kwargs)

def IconLink(icon:str,  # Icon name from [lucide icons](https://lucide.dev/icons/)
           height:int=None, 
           width:int=None, 
           stroke_width:int=None, # Thickness of lines
           cls=(), # Additional classes on the icon
           base_cls=(), # Additional classes on the icon
           icon_cls=(), # Additional classes on the icon
           button:bool=False, # Whether to use a button (defaults to a link)
           **kwargs # Additional args for `A` or `Button` tag
           )->FT: # a lucide icon  button or link of the specified size
    "Creates an icon link using lucide icons"
    if not base_cls:
        base_cls = 'inline-flex items-center p-2 rounded-full' if button else 'inline-flex items-center'
    fn = fh.Button if button else fh.A
    return fn(cls=(base_cls, stringify(cls)), **kwargs)(
        Icon(icon=icon, height=height, width=width, stroke_width=stroke_width, cls=icon_cls))

def DiceBearAvatar(seed_name:str, # Seed name (ie 'Isaac Flath')
                   h:int=12,         # Height 
                   w:int=12,  
                   cls:str=Round.full,
                   **kwargs # Additional args for the span
                  ):          # Span with Avatar
    "Creates an Avatar using https://dicebear.com/"
    url = 'https://api.dicebear.com/8.x/lorelei/svg?seed='
    return Span(cls=(stringify(cls),f"relative flex h-{h} w-{w} shrink-0 overflow-hidden bg-gray-200 dark:bg-gray-700"))(
            fh.Img(cls=f"aspect-square h-{h} w-{w}", alt="Avatar", loading="lazy", src=f"{url}{seed_name}", **kwargs))

def PicSumImg(h:int=200,           # Height in pixels
              w:int=200,           # Width in pixels
              id:int=None,        # Optional specific image ID to use
              grayscale:bool=False, # Whether to return grayscale version
              blur:int=None,       # Optional blur amount (1-10)
              **kwargs             # Additional args for Img tag
              )->FT:              # Img tag with picsum image
    "Creates a placeholder image using https://picsum.photos/"
    url = f"https://picsum.photos"
    if id is not None: url = f"{url}/id/{id}"
    url = f"{url}/{w}/{h}"
    if grayscale: url = f"{url}?grayscale"
    if blur is not None: 
        url = f"{url}{'?' if not grayscale else '&'}blur={max(1,min(10,blur))}"
    return fh.Img(src=url, loading="lazy", **kwargs)

# %% ../nbs/01_flowbite.ipynb 20
class SectionT(VEnum):
    default = "py-12 px-4"
    muted = BackgroundT.secondary+"py-12 px-4"
    primary = BackgroundT.primary+"py-12 px-4"
    secondary = BackgroundT.secondary+"py-12 px-4"
    xs = ContainerSize.xs+"py-12 px-4"
    sm = ContainerSize.sm+"py-12 px-4"
    lg = ContainerSize.lg+"py-12 px-4"
    xl = ContainerSize.xl+"py-12 px-4"

def Section(*c, # contents of Section tag (often other tags)
            cls=(), # Classes in addition to Section styling
            **kwargs # Additional args for Section tag
            )->FT: # Div(..., cls='uk-section')
    return fh.Section(*c, cls=(stringify(cls)), **kwargs)

# %% ../nbs/01_flowbite.ipynb 21
def TabItem(text:str, # Components
            controls:str, # Controls of the tab
            **kwargs # Additional args for the `Li`
           )->FT: # Tab item
    ctrl = f'{controls}' if controls else text
    "A TabItem where children will be different tabs"
    return Li(role='presentation', cls='me-2')(
            Button(text, id=f'{text}-tab', data_tabs_target=f'#{ctrl}', type='button', role='tab', aria_controls=ctrl, aria_selected='false', cls='inline-block p-4 border-b-2'+Round.none, **kwargs)
        )

def TabContainer(*li, # Components
                  cls='', # Additional classes on the `Ul`,
                  active_items_cls='text-primary-600 hover:text-primary-600 dark:text-primary-500 dark:hover:text-primary-500 border-primary-600 dark:border-primary-500', # Additional classes on the active items
                  inactive_items_cls='dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300', # Additional classes on the inactive items
                  **kwargs # Additional args for the `Ul`
                 )->FT: # Tab container
    "A TabContainer where children will be different tabs"
    base_cls = "-mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400"
    ul_cls = "flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400"
    cls = stringify(cls)
    return Div(cls=(FlexT.block,FlexT.wrap,base_cls,"mb-2 border-b-2 border-gray-200 dark:border-gray-700"),**kwargs)(Ul(cls=(ul_cls,stringify(cls)), data_tabs_active_classes=active_items_cls, data_tabs_inactive_classes=inactive_items_cls,**kwargs)(*li))

# %% ../nbs/01_flowbite.ipynb 23
class FormT(VEnum):
    default = "max-w-md mx-auto"
    slim = "max-w-sm mx-auto"


def Form(*c, # contents of Form tag (often Buttons, FormLabels, and LabelInputs)
          cls=FormT.default, # Classes in addition to Form styling (default is 'space-y-3' to prevent scrunched up form elements)
          **kwargs # Additional args for Form tag
          )->FT: # Form(..., cls='space-y-3')
    "A Form with default spacing between form elements"
    return fh.Form(*c, cls=stringify(cls), **kwargs)

class LabelInputT(VEnum):
    default = 'block mb-2 text-sm font-medium text-gray-900 dark:text-white'
    success = 'block mb-2 text-sm font-medium text-green-700 dark:text-green-500'
    error = 'block mb-2 text-sm font-medium text-red-700 dark:text-red-500'

def FormLabel(*c, # contents of FormLabel tag (often text)
               cls=LabelInputT.default, # Classes in addition to FormLabel styling
               **kwargs # Additional args for FormLabel tag
               )->FT: # Label(..., cls='uk-form-label')
    "A Label with default styling"
    return fh.Label(*c, cls=stringify(cls), **kwargs)

class InputT(VEnum):
    default = 'bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500'
    success = 'bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-green-500'
    error = 'bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 block w-full p-2.5 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500'

def Input(label:str|FT = None, # FormLabel content (often text)
          lbl_cls=LabelInputT.default, # Additional classes for `FormLabel`
          cls=InputT.default, # Additional classes for `Input`
          help_cls=TextT.sm, # Additional classes for `P` (help text)
          div_cls='mb-5', # Classes on container (default is `'space-y-2'` to prevent scrunched up form elements)
          id='', # id for `FormLabel` and `Input` (`id`, `name` and `for` attributes are set to this value)
          placeholder='', # Placeholder text for the input
          required=False, # Whether the input is required
          help_text:str|FT = None, # Help text for the input
          icon='', # Icon for the input
          disabled=False, # Whether the input is disabled
          **kwargs # Additional args for `Input`
          )->FT:    
    return Div(
                FormLabel(label, fr=id, cls=lbl_cls) if label else None,
                Div(cls="relative")(
                    Div(
                        Icon(icon,cls='w-4 h-4 text-gray-500 dark:text-gray-400'),
                        cls='absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none'
                    ),
                    fh.Input(id=id, placeholder=placeholder, required=required, cls=(cls,'ps-10' if icon else '','cursor-not-allowed' if disabled else ''), disabled=disabled, **kwargs)
                ),
                P(help_text, cls=(help_cls,"mt-2")),
                cls=(div_cls),                
            )

def TextArea(label:str|FT = None, # FormLabel content (often text)
          lbl_cls=LabelInputT.default, # Additional classes for `FormLabel`
          cls=InputT.default, # Additional classes for `Input`
          help_cls=TextT.sm, # Additional classes for `P` (help text)
          div_cls='mb-5', # Classes on container (default is `'space-y-2'` to prevent scrunched up form elements)
          id='', # id for `FormLabel` and `Input` (`id`, `name` and `for` attributes are set to this value)
          placeholder='', # Placeholder text for the input
          required=False, # Whether the input is required
          help_text:str|FT = None, # Help text for the input
          icon='', # Icon for the input
          disabled=False, # Whether the input is disabled
          **kwargs # Additional args for `Input`
          )->FT:    
    return Div(
                FormLabel(label, fr=id, cls=lbl_cls) if label else None,
                Div(cls="relative")(
                    Div(
                        Icon(icon,cls='w-4 h-4 text-gray-500 dark:text-gray-400'),
                        cls='absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none'
                    ),
                    fh.Textarea(id=id, placeholder=placeholder, required=required, cls=(cls,'ps-10' if icon else '','cursor-not-allowed' if disabled else ''), disabled=disabled, **kwargs)
                ),
                P(help_text, cls=(help_cls,"mt-2")),
                cls=(div_cls),                
            )

def Options(*c,                    # Content for an `Option`
            selected_idx:int=None, # Index location of selected `Option`
            disabled_idxs:set=None # Idex locations of disabled `Options`
           ):
    "Helper function to wrap things into `Option`s for use in `Select`"
    return [fh.Option(o) for i,o in enumerate(c)]

def Select(*options, # Options for the select dropdown (can use `Options` helper function to create)
          label:str|FT = None, # FormLabel content (often text)
          lbl_cls=LabelInputT.default, # Additional classes for `FormLabel`
          cls=InputT.default, # Additional classes for `Input`
          help_cls=TextT.sm, # Additional classes for `P` (help text)
          div_cls='mb-5', # Classes on container (default is `'space-y-2'` to prevent scrunched up form elements)
          id='', # id for `FormLabel` and `Input` (`id`, `name` and `for` attributes are set to this value)
          placeholder='', # Placeholder text for the input
          required=False, # Whether the input is required
          help_text:str|FT = None, # Help text for the input
          icon='', # Icon for the input
          disabled=False, # Whether the input is disabled
          **kwargs # Additional args for `Input`
          )->FT:    
    return Div(
                FormLabel(label, fr=id, cls=lbl_cls) if label else None,
                Div(cls="relative")(
                    Div(
                        Icon(icon,cls='w-4 h-4 text-gray-500 dark:text-gray-400'),
                        cls='absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none'
                    ),
                    fh.Select(*options,id=id, placeholder=placeholder, required=required, cls=(cls,'ps-10' if icon else '','cursor-not-allowed' if disabled else ''), disabled=disabled, **kwargs)
                ),
                P(help_text, cls=(help_cls,"mt-2")),
                cls=(div_cls),                
            )

class RadioT(VEnum):
    default = "w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
    success = "w-4 h-4 text-green-600 bg-green-100 border-green-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-green-600"
    error = "w-4 h-4 text-red-600 bg-red-100 border-red-300 focus:ring-red-500 dark:focus:ring-red-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-red-600"

def Radio(label:str|FT = None, # FormLabel content (often text)
          lbl_cls=TextT.medium, # Additional classes for `FormLabel`
          cls=RadioT.default, # Additional classes for `Input`
          help_cls=TextT.xs+TextT.gray, # Additional classes for `P` (help text)
          div_cls='flex mb-5', # Classes on container (default is `'space-y-2'` to prevent scrunched up form elements)
          id='', # id for `FormLabel` and `Input` (`id`, `name` and `for` attributes are set to this value)
          help_text:str|FT = None, # Help text for the input
          disabled=False, # Whether the input is disabled
          checked=False, # Whether the input is selected
          **kwargs # Additional args for `Input`
          )->FT:    
    return Div(cls=div_cls)(
                Div(cls='flex items-center h-5')(
                    fh.Input(id=id, aria_describedby=f'{id}-text', type='radio', value='', cls=(cls,'cursor-not-allowed' if disabled else ''), disabled=disabled, checked=checked, **kwargs)
                ),
                Div(cls='ms-2 text-sm')(
                    FormLabel(label, fr=id, cls=lbl_cls),
                    P(help_text, id=f'{id}-text', cls=help_cls)
                ),                         
            )

class CheckboxT(VEnum):
    default="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
    success = "w-4 h-4 text-green-600 bg-green-100 border-green-300 rounded-sm focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-green-600"
    error = "w-4 h-4 text-red-600 bg-red-100 border-red-300 rounded-sm focus:ring-red-500 dark:focus:ring-red-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-red-600"

def Checkbox(label:str|FT = None, # FormLabel content (often text)
          lbl_cls=TextT.medium, # Additional classes for `FormLabel`
          cls=CheckboxT.default, # Additional classes for `Input`
          help_cls=TextT.xs+TextT.gray, # Additional classes for `P` (help text)
          div_cls='flex mb-5', # Classes on container (default is `'space-y-2'` to prevent scrunched up form elements)
          id='', # id for `FormLabel` and `Input` (`id`, `name` and `for` attributes are set to this value)
          help_text:str|FT = None, # Help text for the input
          disabled=False, # Whether the input is disabled
          checked=False, # Whether the input is selected
          **kwargs # Additional args for `Input`
          )->FT:    
    return Div(cls=div_cls)(
                Div(cls='flex items-center h-5')(
                    fh.Input(id=id, aria_describedby=f'{id}-text', type='checkbox', value='', cls=(cls,'cursor-not-allowed' if disabled else ''), disabled=disabled, checked=checked, **kwargs)
                ),
                Div(cls='ms-2 text-sm')(
                    FormLabel(label, fr=id, cls=lbl_cls),
                    P(help_text, id=f'{id}-text', cls=help_cls)
                ),                         
            )

class SwitchT(VEnum):
    default = "relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600 dark:peer-checked:bg-primary-600"
    success = "relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600 dark:peer-checked:bg-green-600"
    error = "relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 dark:peer-focus:ring-red-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-red-600 dark:peer-checked:bg-red-600"

def Switch(label:str|FT = None, # FormLabel content (often text)
          lbl_cls=TextT.medium, # Additional classes for `FormLabel`
          cls=SwitchT.default, # Additional classes for `Input`
          div_cls='flex mb-5', # Classes on container (default is `'space-y-2'` to prevent scrunched up form elements)
          id='', # id for `FormLabel` and `Input` (`id`, `name` and `for` attributes are set to this value)
          disabled=False, # Whether the input is disabled
          checked=False, # Whether the input is selected
          **kwargs # Additional args for `Input`
          )->FT:    
    return Div(cls=div_cls)(FormLabel(cls='inline-flex items-center cursor-pointer')(
            fh.Input(type='checkbox',id=id, value='', cls='sr-only peer',disabled=disabled,checked=checked,**kwargs),
            Div(cls=cls,disabled=disabled),
            Span(label, cls=(lbl_cls,"ms-3"))
        )
    )
# Label(cls='inline-flex items-center mb-5 cursor-pointer')(
#             Input(type='checkbox', cls='sr-only peer',disabled=disabled,checked=checked),
#             Div(cls="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 dark:peer-checked:bg-blue-600"),
#             Span(label, cls=(lbl_cls,"ms-3"))
#         )



# %% ../nbs/01_flowbite.ipynb 25
def Upload(label:str|FT = None, # Contents of Upload tag button (often text)
          help_text:str|FT = None, # Help text for the input
          cls="mb-5", # Classes in addition to Upload styling
          lbl_cls='block mb-2 text-sm font-medium text-gray-900 dark:text-white', # Classes for the label
          multiple=False, # Whether to allow multiple file selection
          accept=None, # File types to accept (e.g. 'image/*')
          button_cls='block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400', # Classes for the button
          id='file_input', # ID for the file input
          name=None, # Name for the file input
          **kwargs # Additional args for the outer div
          )->FT: # Div(Input(type='file'), Button(...))
    "A file upload component with default styling"
    input_kwargs = {'type': 'file', 'multiple': multiple}
    if accept: input_kwargs['accept'] = accept
    if id: input_kwargs['id'] = id
    if name: input_kwargs['name'] = name
    return Div(cls=cls)(
        FormLabel(label, fr=id, cls=(lbl_cls,'block mb-2')),
        fh.Input(aria_describedby=f'{id}_help', cls=button_cls,**input_kwargs),
        P(help_text, id=f'{id}_help', cls='mt-1 text-sm text-gray-500 dark:text-gray-300')
    )


def UploadZone(label:str|FT = None, # Contents of Upload tag button (often text)
          help_text:str|FT = None, # Help text for the input
          cls="mb-5", # Classes in addition to Upload styling
          lbl_cls=TextT.sm, # Classes for the label
          multiple=False, # Whether to allow multiple file selection
          accept=None, # File types to accept (e.g. 'image/*')
          button_cls='block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400', # Classes for the button
          id='file_input', # ID for the file input
          name=None, # Name for the file input
          **kwargs # Additional args for the outer div
          )->FT: # Div(Input(type='file'), Button(...))
    "A file upload component with default styling"
    input_kwargs = {'type': 'file', 'multiple': multiple}
    if accept: input_kwargs['accept'] = accept
    if id: input_kwargs['id'] = id
    if name: input_kwargs['name'] = name
    return Div(
            FormLabel(
                Div(
                    
                    Icon("cloud-upload",cls='w-8 h-8 mb-4 text-gray-500 dark:text-gray-400'),
                    P(label,cls=(lbl_cls,'mb-2')),
                    P(help_text, cls='text-xs text-gray-500 dark:text-gray-400'),
                    cls='flex flex-col items-center justify-center pt-5 pb-6'
                ),
                Input(id=id, type='file', cls='hidden'),fr=id,
                cls='flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600'
            ),
            cls='flex items-center justify-center w-full'
        )

# %% ../nbs/01_flowbite.ipynb 27
class RangeT(VEnum):
    default = 'w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700'
    sm = 'w-full h-1 mb-6 bg-gray-200 rounded-lg appearance-none cursor-pointer range-sm dark:bg-gray-700'
    lg = 'w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-gray-700'

def Range(*c, # contents of Range tag (often nothing)
          value='', # Value of the range
          label='', # Label of the range
          help_labels=None, # Help labels of the range
          id='default-range', # ID of the range
          min=None, # Minimum value of the range
          max=None, # Maximum value of the range
          step=None, # Step value of the range
          cls=RangeT.default, # Classes in addition to Range styling
          div_cls='mb-5', # Classes on container (default is `'space-y-2'` to prevent scrunched up form elements)
          **kwargs # Additional args for Range tag
           )->FT: 
    "A Range with default styling"
    return Div(cls=div_cls)(
            FormLabel(label, fr=id, cls='block mb-2 text-sm font-medium text-gray-900 dark:text-white'),
            fh.Input(*c, id=id, type='range',  value=value, min=min, max=max, step=step, cls=stringify(cls), **kwargs),
            DivFullySpaced(*[Span(l, cls='text-sm text-gray-500 dark:text-gray-400') for l in help_labels]) if help_labels else None
        )   

# %% ../nbs/01_flowbite.ipynb 29
class BadgeT(VEnum):
    default = 'bg-primary-100 text-primary-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-primary-900 dark:text-primary-300'
    dark = 'bg-gray-100 text-gray-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-gray-300'
    red = 'bg-red-100 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-red-900 dark:text-red-300'
    green = 'bg-green-100 text-green-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-green-900 dark:text-green-300'
    blue = 'bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-blue-900 dark:text-blue-300'
    yellow = 'bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-yellow-900 dark:text-yellow-300'
    indigo = 'bg-indigo-100 text-indigo-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-indigo-900 dark:text-indigo-300'
    purple = 'bg-purple-100 text-purple-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-purple-900 dark:text-purple-300'
    pink = 'bg-pink-100 text-pink-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-pink-900 dark:text-pink-300'

    default_lg ='bg-primary-100 text-primary-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-primary-900 dark:text-primary-300'
    dark_lg ='bg-gray-100 text-gray-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-gray-300'
    red_lg ='bg-red-100 text-red-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-red-900 dark:text-red-300'
    green_lg ='bg-green-100 text-green-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-green-900 dark:text-green-300'
    blue_lg ='bg-blue-100 text-blue-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-blue-900 dark:text-blue-300'
    yellow_lg ='bg-yellow-100 text-yellow-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-yellow-900 dark:text-yellow-300'
    indigo_lg ='bg-indigo-100 text-indigo-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-indigo-900 dark:text-indigo-300'
    purple_lg ='bg-purple-100 text-purple-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-purple-900 dark:text-purple-300'
    pink_lg ='bg-pink-100 text-pink-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-pink-900 dark:text-pink-300'

    default_outline='bg-primary-100 text-primary-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-primary-400 border border-primary-400'
    dark_outline='bg-gray-100 text-gray-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-gray-400 border border-gray-500'
    red_outline='bg-red-100 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-red-400 border border-red-400'
    green_outline='bg-green-100 text-green-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-green-400 border border-green-400'
    blue_outline='bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-blue-400 border border-blue-400'
    yellow_outline='bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-yellow-400 border border-yellow-400'
    indigo_outline='bg-indigo-100 text-indigo-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-indigo-400 border border-indigo-400'
    purple_outline='bg-purple-100 text-purple-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-purple-400 border border-purple-400'
    pink_outline='bg-pink-100 text-pink-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-pink-400 border border-pink-400'

    default_pill='bg-primary-100 text-primary-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-primary-900 dark:text-primary-300'
    dark_pill='bg-gray-100 text-gray-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-gray-700 dark:text-gray-300'
    red_pill='bg-red-100 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300'
    green_pill='bg-green-100 text-green-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300'
    blue_pill='bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-blue-900 dark:text-blue-300'
    yellow_pill='bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-yellow-900 dark:text-yellow-300'
    indigo_pill='bg-indigo-100 text-indigo-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-indigo-900 dark:text-indigo-300'
    purple_pill='bg-purple-100 text-purple-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-purple-900 dark:text-purple-300'
    pink_pill='bg-pink-100 text-pink-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-pink-900 dark:text-pink-300'


def Badge(*c, # contents of Label tag (often text)
           icon=None,
           cls=(), # Classes in addition to Label styling
           **kwargs # Additional args for Label tag
           )->FT: # Label(..., cls='uk-label')
    "FrankenUI labels, which look like pills"
    return fh.Span(Icon(icon,cls='w-2.5 h-2.5 me-1.5') if icon else None,*c, cls=(stringify(cls),'inline-flex items-center' if icon else ''), **kwargs)

def IconBadge(icon,
           h="2.5",
           w="2.5",
           cls=(), # Classes in addition to Label styling
           icon_cls=(), # Classes in addition to Icon styling
           **kwargs # Additional args for Label tag
           )->FT: # Label(..., cls='uk-label')
    "FrankenUI labels, which look like pills" 
    return fh.Span(Icon(icon,cls=(f'w-{w} h-{h}',stringify(icon_cls))), cls=(stringify(cls),'inline-flex items-center rounded-full'), **kwargs)


# %% ../nbs/01_flowbite.ipynb 31
class ModalT(VEnum):
    """Modal styling variants for Flowbite components"""
    # Container styles
    container = 'hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full'
    
    # Dialog styles
    dialog = 'relative p-4 w-full max-h-full'
    dialog_inner = 'relative bg-white rounded-lg shadow-sm dark:bg-gray-700'
    
    # Header styles
    header = 'flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600 border-gray-200'
    
    # Body styles
    body = 'p-4 md:p-5'
    
    # Footer styles
    footer = 'flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600'
    
    # Title styles
    title = 'text-lg font-semibold text-gray-900 dark:text-white'
    
    # Close button styles
    close_btn = 'text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm h-8 w-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white'
    
    # Size variants for dialog
    sm = 'sm:max-w-sm'  # Small modal
    md = 'max-w-md'     # Default/medium modal
    lg = 'max-w-lg'     # Large modal
    xl = 'max-w-xl'     # Extra large modal
    _2xl = 'max-w-2xl'  # 2X large modal
    _3xl = 'max-w-3xl'  # 3X large modal
    _4xl = 'max-w-4xl'  # 4X large modal
    _5xl = 'max-w-5xl'  # 5X large modal
    _6xl = 'max-w-6xl'  # 6X large modal
    _7xl = 'max-w-7xl'  # 7X large modal
    
    # Special size variants
    fluid = 'w-full'    # Full width modal
    responsive = 'w-full sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl 2xl:max-w-2xl'  # Responsive modal
    
    # Placement variants
    center = 'items-center justify-center'  # Center modal (default)
    top_left = 'items-start justify-start'  # Top left
    top_center = 'items-start justify-center'  # Top center
    top_right = 'items-start justify-end'  # Top right
    center_left = 'items-center justify-start'  # Center left
    center_right = 'items-center justify-end'  # Center right
    bottom_left = 'items-end justify-start'  # Bottom left
    bottom_center = 'items-end justify-center'  # Bottom center
    bottom_right = 'items-end justify-end'  # Bottom right

def ModalContainer(*c, # Components to put in the modal (often `ModalDialog`)
                  id:str='', # ID for the modal container
                  cls:str='', # Additional classes on the modal container
                  placement:str=None, # Placement of the modal (use ModalT placement variants)
                  **kwargs # Additional args for the container div
                  )->FT:
    "Creates a modal container that components go in"
    classes = [ModalT.container]
    if placement:
        classes.append(placement)
    if cls:
        classes.append(stringify(cls))
    return Div(*c, id=id, tabindex='-1', aria_hidden='true', cls=tuple(classes), **kwargs)

def ModalDialog(*c, # Components to put in the dialog (often `ModalBody`, `ModalHeader`, etc)
                cls:str='', # Additional classes on the dialog
                **kwargs # Additional args for the dialog div
                )->FT:
    "Creates a modal dialog"
    return Div(Div(*c, cls=ModalT.dialog_inner), cls=(ModalT.dialog, stringify(cls)), **kwargs)

def ModalHeader(*c, # Components to put in the header
                cls:str='', # Additional classes on the header
                **kwargs # Additional args for the header div
                )->FT:
    "Creates a modal header"
    return Div(*c, cls=(ModalT.header, stringify(cls)), **kwargs)

def ModalBody(*c, # Components to put in the body
              cls:str='', # Additional classes on the body
              **kwargs # Additional args for the body div
              )->FT:
    "Creates a modal body"
    return Div(*c, cls=(ModalT.body, stringify(cls)), **kwargs)

def ModalFooter(*c, # Components to put in the footer
                cls:str='', # Additional classes on the footer
                **kwargs # Additional args for the footer div
                )->FT:
    "Creates a modal footer"
    return Div(*c, cls=(ModalT.footer, stringify(cls)), **kwargs)

def ModalTitle(*c, # Components to put in the title
               cls:str='', # Additional classes on the title
               **kwargs # Additional args for the title
               )->FT:
    "Creates a modal title"
    return H3(*c, cls=(ModalT.title, stringify(cls)), **kwargs)

def ModalCloseButton(*c, # Components to put in the button
                     cls:str='', # Additional classes on the button
                     modal_id:str='', # ID of modal to close
                     **kwargs # Additional args for the button
                     )->FT:
    "Creates a button that closes a modal"
    return fh.Button(
        Icon('X'),
        Span('Close modal', cls='sr-only'),
        type='button',
        data_modal_toggle=modal_id,
        cls=(ModalT.close_btn, stringify(cls)),
        **kwargs
    )

def Modal(*c, # Components to put in the modal body
         header=None, # Components for the header (often a ModalTitle)
         footer=None, # Components for the footer
         cls:str='', # Additional classes on the container
         dialog_cls:str=ModalT.lg, # Additional classes on the dialog
         header_cls:str='', # Additional classes on the header
         body_cls:str='', # Additional classes on the body
         footer_cls:str='', # Additional classes on the footer
         id:str='', # ID for the modal
         placement:str=ModalT.center, # Placement of the modal (use ModalT placement variants)
         **kwargs # Additional args for the container
         )->FT:
    "Creates a complete modal with header, body and footer sections"
    res = []
    if header: res.append(ModalHeader(*header if isinstance(header, (list, tuple)) else [header], cls=header_cls))
    res.append(ModalBody(*c, cls=body_cls))
    if footer: res.append(ModalFooter(*footer if isinstance(footer, (list, tuple)) else [footer], cls=footer_cls))
    return ModalContainer(
        ModalDialog(*res, cls=dialog_cls),
        Script('htmx.onLoad(function(content) {initModals();})'),
        id=id,
        cls=cls,
        placement=placement,
        **kwargs
    )

# %% ../nbs/01_flowbite.ipynb 33
class CardT(VEnum):
    default = 'block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700'
    primary = 'block max-w-sm p-6 bg-primary-50 border border-gray-200 rounded-lg shadow-sm hover:bg-primary-100 dark:bg-primary-800 dark:border-gray-700 dark:hover:bg-primary-700'
    secondary = 'block max-w-sm p-6 bg-gray-100 border border-gray-200 rounded-lg shadow-sm hover:bg-white dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700'
    destructive = 'block max-w-sm p-6 bg-red-50 border border-gray-200 rounded-lg shadow-sm hover:bg-red-300 dark:bg-red-800 dark:border-gray-700 dark:hover:bg-red-700'
    horizontal = 'flex flex-col items-center bg-white border border-gray-200 rounded-lg shadow-sm md:flex-row md:max-w-xl hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700'
    hover = 'hover:shadow-lg hover:-translate-y-1 transition-all duration-200'
    plain = 'block max-w-sm p-6 border border-gray-200 rounded-lg shadow-sm dark:border-gray-700'

def CardTitle(*c, # Components (often a string)
              cls=(), # Additional classes on the div
              **kwargs # Additional args for the div
             ): 
    "Creates a card title"
    return fh.Div(*c, cls=('mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white',stringify(cls)), **kwargs)

def CardHeader(*c, # Components that goes in the header (often a `ModalTitle` and description)
               cls=(), # Additional classes on the div
               **kwargs # Additional args for the div
              )->FT: # Container for the header of a card
    "Creates a card header"
    return fh.Div(*c, cls=(stringify(cls)), **kwargs)

def CardBody(*c, # Components that go in the body (Main content of the card such as a form, and image, a signin form, etc.)
              cls=(), # Additional classes on the div
              **kwargs # Additional args for the div
             )->FT: # Container for the body of a card
    "Creates a card body"
    return fh.Div(*c, cls=('font-normal text-gray-700 dark:text-gray-400',stringify(cls)), **kwargs)

def CardFooter(*c, # Components that go in the footer (often a `ModalCloseButton`)
               cls=(), # Additional classes on the div
               **kwargs # Additional args for the div
              )->FT: # Container for the footer of a card
    "Creates a card footer"
    return fh.Div(*c, cls=("mt-4",stringify(cls)), **kwargs)

def CardContainer(*c, # Components (typically `CardHeader`, `CardBody`, `CardFooter`)
                   cls=(), # Additional classes on the div
                   **kwargs # Additional args for the div
                  )->FT: # Container for a card
    "Creates a card container"
    return fh.Div(*c, cls=(stringify(cls)), **kwargs)

def Card(*c, # Components that go in the body (Main content of the card such as a form, and image, a signin form, etc.)
        header:FT|Iterable[FT]=None, # Component(s) that goes in the header (often a `ModalTitle` and a subtitle)
        footer:FT|Iterable[FT]=None,  # Component(s) that goes in the footer (often a `ModalCloseButton`)
        body_cls=(), # classes for the body
        header_cls=(), # classes for the header
        footer_cls=(), # classes for the footer
        cls=CardT.default, 
        **kwargs # additional arguments for the `CardContainer`
        )->FT: # Card component
    "Creates a Card with a header, body, and footer"
    header_cls, footer_cls, body_cls, cls = map(stringify, (header_cls, footer_cls, body_cls, cls))
    res = []
    if header: res.append(CardHeader(cls=header_cls)(header))
    res.append(CardBody(cls=body_cls)(*c))
    if footer: res.append(CardFooter(cls=footer_cls)(footer))
    return CardContainer(cls=cls, **kwargs)(*res)


# %% ../nbs/01_flowbite.ipynb 35
class ProgressT(VEnum):
    progress_primary = 'rounded-full bg-primary-600'
    progress_dark = 'rounded-full bg-gray-700 dark:bg-gray-300'
    progress_blue = 'rounded-full bg-blue-600'
    progress_red = 'rounded-full bg-red-600'
    progress_green = 'rounded-full bg-green-600'
    progress_yellow = 'rounded-full bg-yellow-600'
    progress_purple = 'rounded-full bg-purple-600'
    progress_pink = 'rounded-full bg-pink-600'

    bg_default = 'w-full rounded-full bg-gray-200 dark:bg-gray-700'
    bg_primary = 'w-full rounded-full bg-primary-600'
    bg_dark = 'w-full rounded-full bg-gray-300 dark:bg-gray-700'
    bg_blue = 'w-full rounded-full bg-blue-600'
    bg_red = 'w-full rounded-full bg-red-600'
    bg_green = 'w-full rounded-full bg-green-600'
    bg_yellow = 'w-full rounded-full bg-yellow-600'
    


from typing import Literal
def Progress(*c, # Components to put in the progress bar (often nothing)
             label:str|FT='', # Label of the progress bar (often a string or a component)
             label_cls=TextT.sm, # Additional classes on the label
             progress_cls=ProgressT.progress_primary, # Additional classes on the progress bar
             bg_cls=ProgressT.bg_default, # Additional classes on the background of the progress bar
             value="", # Value of the progress bar in percentage from 0 to 100
             size:Literal['sm', 'md', 'lg']='md',
             cls=(), # Additional classes on the progress bar
             **kwargs # Additional args for `Progress` tag
             )->FT: # Progress(..., cls='uk-progress')
    "Creates a progress bar"
    size_map = {
        'sm': 'h-1.5',
        'md': 'h-2.5',
        'lg': 'h-4',
        'xl': 'h-6'
    }
    size_cls = size_map[size]
    return Div(
        Div(cls='flex justify-between mb-1')(
            Span(label, cls=f'{label_cls}') if isinstance(label, str) else label
        ),
        Div(
            Div(*c,style=f'width: {value}%', cls=(stringify(progress_cls), size_cls,"text-xs font-medium text-center p-0.5 leading-none")),
            cls=(stringify(bg_cls),stringify(cls), size_cls),
            **kwargs
        )
    )
        # return fh.Progress(*c, value=value, max=max, cls=(stringify(cls)), **kwargs)


# %% ../nbs/01_flowbite.ipynb 37
class PlaceholderT(VEnum):
    dashed="p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700"
    gray="p-4 flex items-center justify-center rounded-sm bg-gray-50 dark:bg-gray-800"

def Placeholder(*c, # Components to put in the placeholder
                  cls=PlaceholderT.dashed, # Additional classes on the placeholder
                  **kwargs # Additional args for `Div` tag
                  )->FT: # Div(..., cls='uk-placeholder')
    "Creates a placeholder"
    return fh.Div(*c, cls=stringify(cls), **kwargs)

# %% ../nbs/01_flowbite.ipynb 39
def DropdownItem(*c, # Components to put in the dropdown item
                 href:str='#', # Href for the dropdown item
                 cls='block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white', # Additional classes on the dropdown item
                 **kwargs # Additional args for the dropdown item
                 )->FT: # Dropdown item component
    "Creates a dropdown item"
    return fh.Li(fh.A(*c, href=href, cls=stringify(cls), **kwargs))

def DropdownList(*li, # List items are dropdown items (Special `DropdownItem` such as `DropdownHeader`, `DropdownDivider`, `DropdownItem` can also be used)
                 cls='py-2 text-sm text-gray-700 dark:text-gray-200', # Additional classes on the dropdown
                 **kwargs # Additional args for the dropdown
                 )->FT: # Dropdown list component
    "Creates a dropdown list"
    return fh.Ul(*li, cls=stringify(cls), **kwargs)

def DropdownContainer(*c, # Components to put in the dropdown container
                      id:str='', # ID for the dropdown
                      devider:bool=False, # Whether to show a divider
                      cls='z-10 hidden bg-white rounded-lg shadow-sm w-44 dark:bg-gray-700', # Additional classes on the dropdown
                      **kwargs # Additional args for the dropdown
                      )->FT: # Dropdown component
    "Creates a dropdown"
    id = fh.unqid() if not id else id
    devider_cls = 'divide-y divide-gray-100 dark:divide-gray-600' if devider else ''
    return fh.Div(*c, id=id, cls=(devider_cls, stringify(cls)), **kwargs)

def DropdownHeader(*c, # Components to put in the dropdown header
                   cls='px-4 py-3 text-sm text-gray-900 dark:text-white', # Additional classes on the dropdown header
                   **kwargs # Additional args for the dropdown header
                   )->FT: # Dropdown header component
    "Creates a dropdown header"
    return fh.Div(*c, cls=stringify(cls), **kwargs)

def Dropdown(*c, # Components to put in the dropdown
             id:str='', # ID for the dropdown
             header:FT|Iterable[FT]=None, # Components for the header (often a `DropdownHeader`)
             header_cls='px-4 py-3 text-sm text-gray-900 dark:text-white', # Additional classes on the dropdown header
             list_cls='py-2 text-sm text-gray-700 dark:text-gray-200', # Additional classes on the dropdown list
             cls='z-10 hidden bg-white rounded-lg shadow-sm w-44 dark:bg-gray-700', # Additional classes on the Dropdown Container
             devider:bool=False, # Whether to show a divider
             **kwargs # Additional args for the dropdown
             )->FT: # Dropdown component
    "Creates a dropdown"
    id = fh.unqid() if not id else id
    res = []
    if header: res.append(DropdownHeader(*header if isinstance(header, (list, tuple)) else [header], cls=header_cls))
    res.append(DropdownList(*c, cls=list_cls))
    res.append(Script('htmx.onLoad(function(content) {initDropdowns();})'))
    return DropdownContainer(*res, id=id, devider=devider, cls=stringify(cls), **kwargs)

def DropdownButton(*c, # Components to put in the dropdown button
                   cls='', # Additional classes on the dropdown button
                   controls:str='', # Control for the dropdown button
                   icon:str='chevron-down', # Icon for the dropdown button
                   show_icon:bool=True, # Whether to show the icon
                   **kwargs # Additional args for the dropdown button
                   )->FT: # Dropdown button component
    "Creates a dropdown button"
    return Button(*c,Icon(icon, height=16, width=16, cls='ms-3') if icon and show_icon else None, data_dropdown_toggle=controls, cls=stringify(cls), **kwargs)



# %% ../nbs/01_flowbite.ipynb 41
import random
class NavT(VEnum):
    default = 'bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700'
    dark = 'bg-gray-800 dark:bg-gray-800'
    light = 'bg-white dark:bg-gray-800'
    transparent = 'bg-transparent'
    child = 'hidden space-y-2'

def NavContainer(*li, # List items are navigation elements (Special `Li` such as `NavParentLi`, `NavDividerLi`, `NavHeaderLi`, `NavSubtitle`, `NavCloseLi` can also be used)
                 cls=NavT.default, # Additional classes on the nav
                 parent=True, # Whether this nav is a *parent* or *sub* nav
                 uk_nav=False, #True for default collapsible behavior, see [frankenui docs](https://franken-ui.dev/docs/nav#component-options) for more advanced options
                 sticky=False, # Whether to stick to the top of the page while scrolling
                 **kwargs # Additional args
                 )->FT: # FT Component that is a list of `Li` styled for a sidebar navigation menu
    "Creates a navigation container (useful for creating a sidebar navigation).  A Nav is a list (NavBar is something different)"
    _sticky = 'float-left sticky top-4 hidden md:block' if sticky else ''
    return fh.Ul(*li, uk_nav=uk_nav, cls=("px-3 py-4 space-y-2 font-medium" if parent else 'space-y-2 font-medium', stringify(cls), _sticky), **kwargs)

def NavLi(*c, # `NavContainer` container for a nested nav with `parent=False`)
        label:str='',
        icon:str='',
        href:str='#',
        cls=(), # Additional classes on the li
        **kwargs # Additional args for the li
        )->FT: # Navigation list item
    "Creates a navigation list item with a parent nav for nesting"
    return fh.Li(
        fh.A(href=href, cls='flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group')(
            Icon(icon, aria_hidden='true', cls='shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white') if icon else None,
            Span(label, cls='ms-3') if label else None,
            *c,
            **kwargs
        ),
        cls=(stringify(cls)),
    )

def NavChildLi(*c, # creates a list item with an anchor tag with a nested nav
                cls='flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700', # Additional classes on the li
                **kwargs # Additional args for the li
               )->FT: # Navigation list item with a nested nav
    "Creates a navigation list item with a nested nav"
    return fh.Li(
                A(*c, cls=(stringify(cls)),**kwargs)
            )

def NavParentLi(*nav_items, # `NavContainer` container for a nested nav with `parent=False`)
                label:str='',
                icon:str='',
                id:str="", # Random id for the parent nav as 5 digit number
                cls=(), # Additional classes on the li
                **kwargs # Additional args for the li
               )->FT: # Navigation list item
    "Creates a navigation list item with a parent nav for nesting"
    id = random.randint(10000,99999) if not id else id
    return Li(
    fh.Button(type='button', aria_controls=f'dropdown-{id}', data_collapse_toggle=f'dropdown-{id}', cls='flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700')(
        Icon(icon, aria_hidden='true', cls='shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white') if icon else None,
        Span(label, cls='flex-1 ms-3 text-left font-medium rtl:text-right whitespace-nowrap'),
        Icon('chevron-down',height=24,width=24),
        # Svg(xmlns='http://www.w3.org/2000/svg', fill='none', viewbox='0 0 10 6', cls='w-3 h-3')(
        #     Path(stroke='currentColor', stroke_linecap='round', stroke_linejoin='round', stroke_width='2', d='m1 1 4 4 4-4')
        # )
    ),
    NavContainer(*nav_items, cls=NavT.child, parent=False, id=f'dropdown-{id}', **kwargs),
    )
    # return fh.Li(*nav_container,  cls=('uk-parent',  stringify(cls)),**kwargs)

def NavDividerLi(*c, # Components
                 cls='border-t border-gray-200 dark:border-gray-700', # Divider default class
                 **kwargs # Additional args for the li
                )->FT: # Navigation list item with a divider
    "Creates a navigation list item with a divider"
    return fh.Li(*c, cls=(stringify(cls)),**kwargs)

def NavHeaderLi(*c, # Components
                cls=(), # Additional classes on the li
                label:str='',
                href:str='#',
                **kwargs # Additional args for the li
               )->FT: # Navigation list item with a header
    "Creates a navigation list item with a header"
    content = [A(href=href, cls='flex items-center ps-2.5 mb-2')(
        Span(label, cls='self-center text-xl font-semibold whitespace-nowrap dark:text-white')
    )] if label else c
    return fh.Li(*content, cls=(stringify(cls)),**kwargs)

def NavSubtitle(*c, # Components
                cls='flex items-center ps-2.5 mb-5'+TextT.muted, # Additional classes on the div
                **kwargs # Additional args for the li
               )->FT: # Navigation list item with a header
    "Creates a navigation subtitle"
    return fh.Div(*c, cls=(stringify(cls)),**kwargs)


def NavCloseLi(*c, # Components
                label:str='',
                icon:str='',
                id:str=None, # Random id for the parent nav as 5 digit number
                cls=(), # Additional classes on the li
                **kwargs # Additional args for the li
               )->FT: # Navigation list item
    "Creates a navigation list item with a parent nav for nesting"
    if id is None: id = fh.unqid()
    return Li(
    fh.Button(type='button', aria_controls=f'dropdown-{id}', data_collapse_toggle=f'dropdown-{id}', cls='flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700')(
        Span(label, cls='flex-1 ms-3 text-left font-medium rtl:text-right whitespace-nowrap'),
        Icon(icon,height=24,width=24),
        cls=(stringify(cls)),
        *c,
        **kwargs
    ))

# %% ../nbs/01_flowbite.ipynb 43
class NavbarT(VEnum):
    default = 'bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700'
    dark = 'bg-gray-800 dark:bg-gray-800'
    light = 'bg-white dark:bg-gray-800'
    transparent = 'bg-transparent'

def NavBarItem(*c,
                cls=(), # Additional classes on the li            
                href='#', # Href for the link
                **kwargs # Additional args for the li
               )->FT: # Navigation list item
    "Creates a navigation list item"
    return fh.Li(
                A(*c, href=href, aria_current='page', 
                    cls='block py-2 px-3 text-white bg-blue-700 rounded-sm md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500'
                ),
                cls=(stringify(cls)),
                **kwargs
            )

def NavBar(*c,
            brand=H4("Title"), # Brand/logo component for left side
            right_cls='items-center space-x-4', # Spacing for desktop links
            mobile_cls='space-y-4', # Spacing for mobile links
            sticky:bool=False, # Whether to stick to the top of the page while scrolling
            cls='bg-white border-gray-200 dark:bg-gray-900', # Classes for navbar
            menu_id=None, # ID for menu container (used for mobile toggle)
           ) ->FT:
    if menu_id is None: menu_id = fh.unqid()
    return Nav(cls=stringify(cls))(
    DivFullySpaced(cls='max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4')(
        brand,
        fh.Button(data_collapse_toggle=menu_id, type='button', aria_controls=menu_id, aria_expanded='false', cls='inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600')(
            Span('Open main menu', cls='sr-only'),
            Icon('menu')
        ),
        Div(id=menu_id, cls='hidden w-full md:block md:w-auto')(
            Ul(cls='font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700')(
                *c,
            )
        )
    )
)


def SubNavBarItem(*c,
                cls='text-gray-900 dark:text-white hover:underline', # Additional classes on the li            
                href='#', # Href for the link
                **kwargs # Additional args for the li
               )->FT: # Navigation list item
    "Creates a navigation list item"
    return fh.Li(
                A(*c, href=href, aria_current='page', cls=cls, **kwargs)
            )

def SubNavBar(*c,
              cls=(), # Additional classes on the nav
              **kwargs # Additional args for the nav
             )->FT: # Sub navigation bar
    "Creates a sub navigation bar"
    return fh.Nav(cls='bg-gray-50 dark:bg-gray-700')(
    Div(cls='max-w-screen-xl px-4 py-3 mx-auto')(
        Div(cls='flex items-center')(
            Ul(cls='flex flex-row font-medium mt-0 space-x-8 rtl:space-x-reverse text-sm')(
                *c,
            )
        ),
        # cls=(stringify(cls)),
        **kwargs
    )
)


# %% ../nbs/01_flowbite.ipynb 45
def SliderContainer(*c, # Components
                    cls=(), # Additional classes on the container
                    type:Literal['slide', 'static']='slide', # Type of slider
                    id:str=None, # Optional ID for the carousel
                    **kwargs # Additional args for the container
                    ) -> FT:
    "Creates a slider container"
    id = id or 'default-carousel'
    base_cls = 'relative w-full'
    return fh.Div(
        *c,
        cls=(base_cls, stringify(cls)), 
        data_carousel=type,
        id=id,
        **kwargs
    )

class SliderItemT(VEnum):
    default = 'absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 duration-700 ease-in-out'
    linear = 'absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 duration-700 ease-linear'
    ease_out_in = 'absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 duration-700 ease-out-in'
    cubic_bezier = 'absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 duration-700 ease-out-in-cubic'

def SliderItem(*c, # Components to be displayed in the slide
                cls=SliderItemT.default, # Additional classes for the items
                **kwargs # Additional args for the items
                ) -> FT:
    "Creates a slider item"
    return fh.Div(
        *c,  # Allow any content to be passed
        cls=(stringify(cls)), 
        data_carousel_item=True, 
        **kwargs
    )

def SliderItems(
        *c, # Components
        cls='', # Additional classes for the items
        **kwargs # Additional args for the items
    ) -> FT: # Div(..., cls='uk-slider-items uk-grid', ...)
    "Creates a slider items container"
    return Div(*c, cls=(stringify(cls)), **kwargs)

def SliderControls(
    cls='', # Additional classes for controls
    **kwargs # Additional args for controls
) -> tuple:
    "Creates previous and next controls for the slider"
    prev_button = fh.Button(
        type='button',
        data_carousel_prev=True,
        cls='absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none'
    )(
        fh.Span(
            cls='inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none'
        )(
            Icon('chevron-left', height=24, width=24, cls='text-gray-800 dark:text-gray-300'),
            fh.Span('Previous', cls='sr-only')
        )
    )

    next_button = fh.Button(
        type='button',
        data_carousel_next=True,
        cls='absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none'
    )(
        fh.Span(
            cls='inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none'
        )(
            Icon('chevron-right', height=24, width=24, cls='text-gray-800 dark:text-gray-300'),
            fh.Span('Next', cls='sr-only')
        )
    )
    
    return prev_button, next_button


def SliderNav(
        num_slides:int, # Number of slides
        cls='absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse', # Additional classes for the navigation
        **kwargs # Additional args for the navigation
    ) -> FT:
    "Navigation indicators for Slider component"
    return Div(
        *[fh.Button(
            type='button',
            aria_current='true' if i == 0 else 'false',
            aria_label=f'Slide {i+1}',
            data_carousel_slide_to=f'{i}',
            cls='w-3 h-3 rounded-full'
        ) for i in range(num_slides)],
        cls=(stringify(cls)),
        **kwargs
    )

def Slider(items, # List of items to show in slider
          wrapper_cls='relative h-56 overflow-hidden rounded-lg md:h-96', # Classes for the wrapper div
          cls='', # Classes for slider container
          show_controls=True, # Whether to show navigation controls
          show_indicators=True, # Whether to show slide indicators
          type:Literal['slide', 'static']='slide', # Type of slider
          id:str=None, # Optional ID for the carousel
          **kwargs # Additional args for slider container
    ) -> FT:
    "Creates a complete slider with items, controls, and indicators"
    
    # Create wrapper for slides
    wrapper = fh.Div(
        *[SliderItem(item) for item in items],
        cls=wrapper_cls
    )
    
    components = [wrapper]
    
    # Add indicators if requested
    if show_indicators:
        components.append(SliderNav(num_slides=len(items)))
    
    # Add controls if requested
    if show_controls:
        prev_button, next_button = SliderControls()
        components.extend([prev_button, next_button])
    
    return SliderContainer(
        *components,
        type=type,
        id=id,
        cls=cls,
        **kwargs
    )

# %% ../nbs/01_flowbite.ipynb 47
class TableT(VEnum):
    """Table styling variants for Flowbite components"""
    # Table level styles
    table_default = "w-full text-sm text-left rtl:text-right"
    
    # Container level styles
    container_default = "relative overflow-x-auto"
    container_responsive = "overflow-x-auto"
    container_shadow = "shadow-md"
    
    # Row level styles
    row_default = "bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200"
    row_striped = "odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 border-gray-200"
    row_hover = "hover:bg-gray-50 dark:hover:bg-gray-600"
    row_bordered = "border-b dark:border-gray-700 border-gray-200"
    row_header = "text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
    row_footer = "font-semibold text-gray-900 dark:text-white"

    # Cell level styles
    cell_default = "px-6 py-4 text-gray-500 dark:text-gray-400"
    cell_expand = "w-full"
    cell_shrink = "w-1"
    cell_first = "font-medium text-gray-900 whitespace-nowrap dark:text-white"
    cell_header = "px-6 py-3"
    cell_footer = "px-6 py-4"
    
def Thead(*c, 
          cls=TableT.row_header, 
          **kwargs):
    "Creates a table header with Flowbite styling"
    # Extract any rounding classes from the parent table and apply only top rounding
    all_cls = stringify(cls).split()
    rounding_classes = [c.replace('rounded', 'rounded-t') for c in all_cls if 'rounded' in c]
    other_classes = [c for c in all_cls if 'rounded' not in c]
    
    return fh.Thead(*c, cls=(stringify(other_classes), *rounding_classes), **kwargs)

def Table(*c, # Components (typically `Thead`, `Tbody`, `Tfoot`)
          cls=TableT.table_default, # Classes for the table element itself
          container_cls=TableT.container_default, # Classes for the outer container
          responsive=True, # Whether to make the table responsive
          with_shadow=False, # Whether to add shadow styling
          **kwargs # Additional args for the table
         )->FT:
    "Creates a table with Flowbite styling"
    
    # Build container classes
    container_classes = [container_cls]
    if responsive: container_classes.append(TableT.container_responsive)
    if with_shadow: container_classes.append(TableT.container_shadow)
    
    return Div(
        fh.Table(*c, cls=stringify(cls), **kwargs),
        cls=tuple(container_classes)
    )

def _TableCell(Component, 
               *c, # Components that go in the cell
               cls=(), # Additional classes on the cell
               is_header=False, # Whether this is a header cell
               is_footer=False, # Whether this is a footer cell
               expand=False, # Whether to expand the cell
               shrink=False, # Whether to shrink the cell
               **kwargs # Additional args for the cell
              )->FT:
    "Creates a table cell with Flowbite styling"
    classes = []
    base_cls = TableT.cell_header if is_header else TableT.cell_default if not is_footer else TableT.cell_footer
    classes.append(base_cls)
    
    if expand:
        classes.append(TableT.cell_expand)
    if shrink:
        classes.append(TableT.cell_shrink)
    if cls:
        classes.append(stringify(cls))
    
    return Component(*c, cls=tuple(classes), **kwargs)

@delegates(_TableCell, but=['Component'])
def Td(*c, **kwargs):
    "Creates a table data cell"
    return _TableCell(fh.Td, *c, **kwargs)

@delegates(_TableCell, but=['Component'])
def Th(*c, scope='col', **kwargs):
    "Creates a table header cell"
    return _TableCell(fh.Th, *c, scope=scope, is_header=True, **kwargs)

@delegates(_TableCell, but=['Component'])
def Tf(*c, **kwargs):
    "Creates a table footer cell"
    return _TableCell(fh.Td, *c, is_footer=True, **kwargs)

def Tbody(*c,
          cls=(), 
          striped=False,
          hover=False,
          **kwargs):
    "Creates a table body with Flowbite styling"
    classes = []
    if striped: classes.append(TableT.row_striped)
    if hover: classes.append(TableT.row_hover)
    if cls: classes.append(stringify(cls))
    return fh.Tbody(*c, cls=tuple(classes), **kwargs)

def Tr(*c,
       cls=TableT.row_default,
       bordered=True,
       header=False,
       **kwargs):
    "Creates a table row with Flowbite styling"
    if header: 
        if cls == TableT.row_default: cls = TableT.row_header
        else: cls = (cls, TableT.row_header)

    if bordered: cls = (cls, TableT.row_bordered)
    return fh.Tr(*c, cls=stringify(cls), **kwargs)

def TrHeader(*c,
       cls=TableT.cell_header,
       bordered=True,
       **kwargs):
    "Creates a table header row with Flowbite styling"
    if bordered: cls = (cls, TableT.row_bordered)
    return fh.Tr(*c, cls=stringify(cls), **kwargs)

def Tfoot(*c,
          cls=TableT.row_footer,
          **kwargs):
    "Creates a table footer with Flowbite styling"
    return fh.Tfoot(*c, cls=stringify(cls), **kwargs)

def DataTable(headers:list, # List of header labels
             rows:list, # List of row data
             footer:list=None, # List of footer data
             first_col_header=False, # Whether to style first column as header
             expand_column=None, # Index of column to expand (0-based)
             cls=TableT.table_default, # Classes for the table element
             container_cls="", # Classes for the outer container
             row_cls="", # Classes to apply to each row
             striped=False, # Whether to apply striped styling to rows
             hover=False, # Whether to apply hover styling to rows
             bordered=True, # Whether to apply borders between rows
             **kwargs # Additional args for the Table
            )->FT:
    "Creates a data table from headers and rows"
    
    # Create header row
    header_cells = []
    for i, h in enumerate(headers):
        header_cells.append(Th(h, expand=(i == expand_column)))
    header_row = TrHeader(*header_cells)
    
    # Create footer row
    if footer:
        footer_cells = []
        for i, f in enumerate(footer):
            footer_cells.append(Tf(f, expand=(i == expand_column)))
        footer_row = Tfoot(*footer_cells)
    else:
        footer_row = None

    # Create data rows
    data_rows = []
    for row in rows:
        cells = []
        for i, cell in enumerate(row):
            if first_col_header and i == 0:
                cells.append(Th(cell, scope='row', 
                              cls=TableT.cell_first,
                              expand=(i == expand_column)))
            else:
                cells.append(Td(cell, expand=(i == expand_column)))
        
        # Build row classes properly
        row_classes = stringify(TableT.row_default)  # Start with default
        if row_cls: 
            row_classes += " " + stringify(row_cls)
        if bordered: 
            row_classes += " " + stringify(TableT.row_bordered)
        if striped:
            row_classes += " " + stringify(TableT.row_striped)
        
        data_rows.append(Tr(*cells, cls=row_classes))
    
    # Build tbody classes properly
    tbody_classes = []
    if striped: tbody_classes.append(stringify(TableT.row_striped))
    if hover: tbody_classes.append(stringify(TableT.row_hover))
    
    return Table(
        Thead(header_row),
        Tbody(*data_rows, cls=" ".join(tbody_classes) if tbody_classes else None),
        Tfoot(footer_row) if footer else None,
        cls=stringify(cls),
        container_cls=stringify(container_cls),
        **kwargs
    )
    
# Example usage of the table components:
def SimpleTable(headers:list, rows:list, **kwargs):
    "Creates a simple table with hover effect and striped rows"
    return DataTable(
        headers=headers,
        rows=rows,
        with_shadow=True,
        first_col_header=True,
        **kwargs
    )
